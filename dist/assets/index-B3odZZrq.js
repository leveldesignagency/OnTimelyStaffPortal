var lp=Object.defineProperty;var op=(t,e,r)=>e in t?lp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ia=(t,e,r)=>op(t,typeof e!="symbol"?e+"":e,r);function cp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Dd={exports:{}},sa={},zd={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=Symbol.for("react.element"),hp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),mp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),yp=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),wp=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),Jc=Symbol.iterator;function bp(t){return t===null||typeof t!="object"?null:(t=Jc&&t[Jc]||t["@@iterator"],typeof t=="function"?t:null)}var Fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bd=Object.assign,Wd={};function Tn(t,e,r){this.props=t,this.context=e,this.refs=Wd,this.updater=r||Fd}Tn.prototype.isReactComponent={};Tn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vd(){}Vd.prototype=Tn.prototype;function Uo(t,e,r){this.props=t,this.context=e,this.refs=Wd,this.updater=r||Fd}var $o=Uo.prototype=new Vd;$o.constructor=Uo;Bd($o,Tn.prototype);$o.isPureReactComponent=!0;var Zc=Array.isArray,Hd=Object.prototype.hasOwnProperty,Io={current:null},qd={key:!0,ref:!0,__self:!0,__source:!0};function Kd(t,e,r){var n,s={},i=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Hd.call(e,n)&&!qd.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Os,type:t,key:i,ref:l,props:s,_owner:Io.current}}function _p(t,e){return{$$typeof:Os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lo(t){return typeof t=="object"&&t!==null&&t.$$typeof===Os}function kp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Qc=/\/+/g;function La(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kp(""+t.key):e.toString(36)}function hi(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Os:case hp:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+La(l,0):n,Zc(s)?(r="",t!=null&&(r=t.replace(Qc,"$&/")+"/"),hi(s,e,r,"",function(u){return u})):s!=null&&(Lo(s)&&(s=_p(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Qc,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",Zc(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+La(i,o);l+=hi(i,e,r,c,s)}else if(c=bp(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+La(i,o++),l+=hi(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Vs(t,e,r){if(t==null)return t;var n=[],s=0;return hi(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Np(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},fi={transition:null},Sp={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:fi,ReactCurrentOwner:Io};function Gd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Vs,forEach:function(t,e,r){Vs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Vs(t,function(){e++}),e},toArray:function(t){return Vs(t,function(e){return e})||[]},only:function(t){if(!Lo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=Tn;B.Fragment=fp;B.Profiler=pp;B.PureComponent=Uo;B.StrictMode=mp;B.Suspense=xp;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;B.act=Gd;B.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Bd({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Io.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)Hd.call(e,c)&&!qd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Os,type:t.type,key:s,ref:i,props:n,_owner:l}};B.createContext=function(t){return t={$$typeof:yp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gp,_context:t},t.Consumer=t};B.createElement=Kd;B.createFactory=function(t){var e=Kd.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:vp,render:t}};B.isValidElement=Lo;B.lazy=function(t){return{$$typeof:jp,_payload:{_status:-1,_result:t},_init:Np}};B.memo=function(t,e){return{$$typeof:wp,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=fi.transition;fi.transition={};try{t()}finally{fi.transition=e}};B.unstable_act=Gd;B.useCallback=function(t,e){return Te.current.useCallback(t,e)};B.useContext=function(t){return Te.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};B.useEffect=function(t,e){return Te.current.useEffect(t,e)};B.useId=function(){return Te.current.useId()};B.useImperativeHandle=function(t,e,r){return Te.current.useImperativeHandle(t,e,r)};B.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Te.current.useMemo(t,e)};B.useReducer=function(t,e,r){return Te.current.useReducer(t,e,r)};B.useRef=function(t){return Te.current.useRef(t)};B.useState=function(t){return Te.current.useState(t)};B.useSyncExternalStore=function(t,e,r){return Te.current.useSyncExternalStore(t,e,r)};B.useTransition=function(){return Te.current.useTransition()};B.version="18.3.1";zd.exports=B;var v=zd.exports;const Jd=up(v),Cp=cp({__proto__:null,default:Jd},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=v,Tp=Symbol.for("react.element"),Pp=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Op=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rp={key:!0,ref:!0,__self:!0,__source:!0};function Zd(t,e,r){var n,s={},i=null,l=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)Ap.call(e,n)&&!Rp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Tp,type:t,key:i,ref:l,props:s,_owner:Op.current}}sa.Fragment=Pp;sa.jsx=Zd;sa.jsxs=Zd;Dd.exports=sa;var a=Dd.exports,wl={},Qd={exports:{}},He={},Yd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,$){var I=T.length;T.push($);e:for(;0<I;){var H=I-1>>>1,te=T[H];if(0<s(te,$))T[H]=$,T[I]=te,I=H;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],I=T.pop();if(I!==$){T[0]=I;e:for(var H=0,te=T.length,bt=te>>>1;H<bt;){var fe=2*(H+1)-1,zt=T[fe],Ne=fe+1,E=T[Ne];if(0>s(zt,I))Ne<te&&0>s(E,zt)?(T[H]=E,T[Ne]=I,H=Ne):(T[H]=zt,T[fe]=I,H=fe);else if(Ne<te&&0>s(E,I))T[H]=E,T[Ne]=I,H=Ne;else break e}}return $}function s(T,$){var I=T.sortIndex-$.sortIndex;return I!==0?I:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,d=null,f=3,y=!1,w=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=T)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function j(T){if(b=!1,p(T),!w)if(r(c)!==null)w=!0,Ke(k);else{var $=r(u);$!==null&&De(j,$.startTime-T)}}function k(T,$){w=!1,b&&(b=!1,g(P),P=-1),y=!0;var I=f;try{for(p($),d=r(c);d!==null&&(!(d.expirationTime>$)||T&&!ye());){var H=d.callback;if(typeof H=="function"){d.callback=null,f=d.priorityLevel;var te=H(d.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?d.callback=te:d===r(c)&&n(c),p($)}else n(c);d=r(c)}if(d!==null)var bt=!0;else{var fe=r(u);fe!==null&&De(j,fe.startTime-$),bt=!1}return bt}finally{d=null,f=I,y=!1}}var S=!1,C=null,P=-1,D=5,U=-1;function ye(){return!(t.unstable_now()-U<D)}function Le(){if(C!==null){var T=t.unstable_now();U=T;var $=!0;try{$=C(!0,T)}finally{$?Me():(S=!1,C=null)}}else S=!1}var Me;if(typeof m=="function")Me=function(){m(Le)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,ie=mt.port2;mt.port1.onmessage=Le,Me=function(){ie.postMessage(null)}}else Me=function(){x(Le,0)};function Ke(T){C=T,S||(S=!0,Me())}function De(T,$){P=x(function(){T(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,Ke(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var I=f;f=$;try{return T()}finally{f=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=f;f=T;try{return $()}finally{f=I}},t.unstable_scheduleCallback=function(T,$,I){var H=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,T){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=I+te,T={id:h++,callback:$,priorityLevel:T,startTime:I,expirationTime:te,sortIndex:-1},I>H?(T.sortIndex=I,e(u,T),r(c)===null&&T===r(u)&&(b?(g(P),P=-1):b=!0,De(j,I-H))):(T.sortIndex=te,e(c,T),w||y||(w=!0,Ke(k))),T},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(T){var $=f;return function(){var I=f;f=$;try{return T.apply(this,arguments)}finally{f=I}}}})(Xd);Yd.exports=Xd;var Up=Yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=v,Ve=Up;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eh=new Set,hs={};function Br(t,e){xn(t,e),xn(t+"Capture",e)}function xn(t,e){for(hs[t]=e,t=0;t<e.length;t++)eh.add(e[t])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,Ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Xc={};function Lp(t){return jl.call(Xc,t)?!0:jl.call(Yc,t)?!1:Ip.test(t)?Xc[t]=!0:(Yc[t]=!0,!1)}function Mp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Dp(t,e,r,n){if(e===null||typeof e>"u"||Mp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,r,n,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mo=/[\-:]([a-z])/g;function Do(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mo,Do);we[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mo,Do);we[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mo,Do);we[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function zo(t,e,r,n){var s=we.hasOwnProperty(e)?we[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Dp(e,r,s,n)&&(r=null),n||s===null?Lp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Dt=$p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),Fo=Symbol.for("react.strict_mode"),bl=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),rh=Symbol.for("react.context"),Bo=Symbol.for("react.forward_ref"),_l=Symbol.for("react.suspense"),kl=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),nh=Symbol.for("react.offscreen"),eu=Symbol.iterator;function Mn(t){return t===null||typeof t!="object"?null:(t=eu&&t[eu]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,Ma;function Kn(t){if(Ma===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ma=e&&e[1]||""}return`
`+Ma+t}var Da=!1;function za(t,e){if(!t||Da)return"";Da=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Da=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Kn(t):""}function zp(t){switch(t.tag){case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 2:case 15:return t=za(t.type,!1),t;case 11:return t=za(t.type.render,!1),t;case 1:return t=za(t.type,!0),t;default:return""}}function Nl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tn:return"Fragment";case en:return"Portal";case bl:return"Profiler";case Fo:return"StrictMode";case _l:return"Suspense";case kl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rh:return(t.displayName||"Context")+".Consumer";case th:return(t._context.displayName||"Context")+".Provider";case Bo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wo:return e=t.displayName||null,e!==null?e:Nl(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return Nl(t(e))}catch{}}return null}function Fp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(e);case 8:return e===Fo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bp(t){var e=sh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qs(t){t._valueTracker||(t._valueTracker=Bp(t))}function ih(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sl(t,e){var r=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=hr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ah(t,e){e=e.checked,e!=null&&zo(t,"checked",e,!1)}function Cl(t,e){ah(t,e);var r=hr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?El(t,e.type,r):e.hasOwnProperty("defaultValue")&&El(t,e.type,hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ru(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function El(t,e,r){(e!=="number"||Si(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gn=Array.isArray;function fn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+hr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(N(92));if(Gn(r)){if(1<r.length)throw Error(N(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:hr(r)}}function lh(t,e){var r=hr(e.value),n=hr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function su(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ks,ch=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wp=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(t){Wp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xn[e]=Xn[t]})});function uh(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xn.hasOwnProperty(t)&&Xn[t]?(""+e).trim():e+"px"}function dh(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=uh(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Vp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(t,e){if(e){if(Vp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Ol(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function Vo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ul=null,mn=null,pn=null;function iu(t){if(t=$s(t)){if(typeof Ul!="function")throw Error(N(280));var e=t.stateNode;e&&(e=ca(e),Ul(t.stateNode,t.type,e))}}function hh(t){mn?pn?pn.push(t):pn=[t]:mn=t}function fh(){if(mn){var t=mn,e=pn;if(pn=mn=null,iu(t),e)for(t=0;t<e.length;t++)iu(e[t])}}function mh(t,e){return t(e)}function ph(){}var Fa=!1;function gh(t,e,r){if(Fa)return t(e,r);Fa=!0;try{return mh(t,e,r)}finally{Fa=!1,(mn!==null||pn!==null)&&(ph(),fh())}}function ms(t,e){var r=t.stateNode;if(r===null)return null;var n=ca(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(N(231,e,typeof r));return r}var $l=!1;if(Ut)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{$l=!1}function Hp(t,e,r,n,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var es=!1,Ci=null,Ei=!1,Il=null,qp={onError:function(t){es=!0,Ci=t}};function Kp(t,e,r,n,s,i,l,o,c){es=!1,Ci=null,Hp.apply(qp,arguments)}function Gp(t,e,r,n,s,i,l,o,c){if(Kp.apply(this,arguments),es){if(es){var u=Ci;es=!1,Ci=null}else throw Error(N(198));Ei||(Ei=!0,Il=u)}}function Wr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function yh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function au(t){if(Wr(t)!==t)throw Error(N(188))}function Jp(t){var e=t.alternate;if(!e){if(e=Wr(t),e===null)throw Error(N(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return au(s),t;if(i===n)return au(s),e;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?t:e}function vh(t){return t=Jp(t),t!==null?xh(t):null}function xh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xh(t);if(e!==null)return e;t=t.sibling}return null}var wh=Ve.unstable_scheduleCallback,lu=Ve.unstable_cancelCallback,Zp=Ve.unstable_shouldYield,Qp=Ve.unstable_requestPaint,ne=Ve.unstable_now,Yp=Ve.unstable_getCurrentPriorityLevel,Ho=Ve.unstable_ImmediatePriority,jh=Ve.unstable_UserBlockingPriority,Ti=Ve.unstable_NormalPriority,Xp=Ve.unstable_LowPriority,bh=Ve.unstable_IdlePriority,ia=null,wt=null;function e0(t){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ia,t,void 0,(t.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:n0,t0=Math.log,r0=Math.LN2;function n0(t){return t>>>=0,t===0?32:31-(t0(t)/r0|0)|0}var Gs=64,Js=4194304;function Jn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Jn(o):(i&=l,i!==0&&(n=Jn(i)))}else l=r&~s,l!==0?n=Jn(l):i!==0&&(n=Jn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-dt(e),s=1<<r,n|=t[r],e&=~s;return n}function s0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-dt(i),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=s0(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function Ll(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _h(){var t=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),t}function Ba(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Rs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dt(e),t[e]=r}function a0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-dt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function qo(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-dt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var V=0;function kh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nh,Ko,Sh,Ch,Eh,Ml=!1,Zs=[],nr=null,sr=null,ir=null,ps=new Map,gs=new Map,Jt=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ou(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function zn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$s(e),e!==null&&Ko(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function o0(t,e,r,n,s){switch(e){case"focusin":return nr=zn(nr,t,e,r,n,s),!0;case"dragenter":return sr=zn(sr,t,e,r,n,s),!0;case"mouseover":return ir=zn(ir,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ps.set(i,zn(ps.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,gs.set(i,zn(gs.get(i)||null,t,e,r,n,s)),!0}return!1}function Th(t){var e=Or(t.target);if(e!==null){var r=Wr(e);if(r!==null){if(e=r.tag,e===13){if(e=yh(r),e!==null){t.blockedOn=e,Eh(t.priority,function(){Sh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Dl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Rl=n,r.target.dispatchEvent(n),Rl=null}else return e=$s(r),e!==null&&Ko(e),t.blockedOn=r,!1;e.shift()}return!0}function cu(t,e,r){mi(t)&&r.delete(e)}function c0(){Ml=!1,nr!==null&&mi(nr)&&(nr=null),sr!==null&&mi(sr)&&(sr=null),ir!==null&&mi(ir)&&(ir=null),ps.forEach(cu),gs.forEach(cu)}function Fn(t,e){t.blockedOn===e&&(t.blockedOn=null,Ml||(Ml=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,c0)))}function ys(t){function e(s){return Fn(s,t)}if(0<Zs.length){Fn(Zs[0],t);for(var r=1;r<Zs.length;r++){var n=Zs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nr!==null&&Fn(nr,t),sr!==null&&Fn(sr,t),ir!==null&&Fn(ir,t),ps.forEach(e),gs.forEach(e),r=0;r<Jt.length;r++)n=Jt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Jt.length&&(r=Jt[0],r.blockedOn===null);)Th(r),r.blockedOn===null&&Jt.shift()}var gn=Dt.ReactCurrentBatchConfig,Ai=!0;function u0(t,e,r,n){var s=V,i=gn.transition;gn.transition=null;try{V=1,Go(t,e,r,n)}finally{V=s,gn.transition=i}}function d0(t,e,r,n){var s=V,i=gn.transition;gn.transition=null;try{V=4,Go(t,e,r,n)}finally{V=s,gn.transition=i}}function Go(t,e,r,n){if(Ai){var s=Dl(t,e,r,n);if(s===null)Ya(t,e,n,Oi,r),ou(t,n);else if(o0(s,t,e,r,n))n.stopPropagation();else if(ou(t,n),e&4&&-1<l0.indexOf(t)){for(;s!==null;){var i=$s(s);if(i!==null&&Nh(i),i=Dl(t,e,r,n),i===null&&Ya(t,e,n,Oi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ya(t,e,n,null,r)}}var Oi=null;function Dl(t,e,r,n){if(Oi=null,t=Vo(n),t=Or(t),t!==null)if(e=Wr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=yh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oi=t,null}function Ph(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case Ho:return 1;case jh:return 4;case Ti:case Xp:return 16;case bh:return 536870912;default:return 16}default:return 16}}var Xt=null,Jo=null,pi=null;function Ah(){if(pi)return pi;var t,e=Jo,r=e.length,n,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[i-n];n++);return pi=s.slice(t,1<n?1-n:void 0)}function gi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qs(){return!0}function uu(){return!1}function qe(t){function e(r,n,s,i,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qs:uu,this.isPropagationStopped=uu,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=qe(Pn),Us=ee({},Pn,{view:0,detail:0}),h0=qe(Us),Wa,Va,Bn,aa=ee({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bn&&(Bn&&t.type==="mousemove"?(Wa=t.screenX-Bn.screenX,Va=t.screenY-Bn.screenY):Va=Wa=0,Bn=t),Wa)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),du=qe(aa),f0=ee({},aa,{dataTransfer:0}),m0=qe(f0),p0=ee({},Us,{relatedTarget:0}),Ha=qe(p0),g0=ee({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),y0=qe(g0),v0=ee({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x0=qe(v0),w0=ee({},Pn,{data:0}),hu=qe(w0),j0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_0[t])?!!e[t]:!1}function Qo(){return k0}var N0=ee({},Us,{key:function(t){if(t.key){var e=j0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(t){return t.type==="keypress"?gi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S0=qe(N0),C0=ee({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=qe(C0),E0=ee({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),T0=qe(E0),P0=ee({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),A0=qe(P0),O0=ee({},aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=qe(O0),U0=[9,13,27,32],Yo=Ut&&"CompositionEvent"in window,ts=null;Ut&&"documentMode"in document&&(ts=document.documentMode);var $0=Ut&&"TextEvent"in window&&!ts,Oh=Ut&&(!Yo||ts&&8<ts&&11>=ts),mu=" ",pu=!1;function Rh(t,e){switch(t){case"keyup":return U0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rn=!1;function I0(t,e){switch(t){case"compositionend":return Uh(e);case"keypress":return e.which!==32?null:(pu=!0,mu);case"textInput":return t=e.data,t===mu&&pu?null:t;default:return null}}function L0(t,e){if(rn)return t==="compositionend"||!Yo&&Rh(t,e)?(t=Ah(),pi=Jo=Xt=null,rn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Oh&&e.locale!=="ko"?null:e.data;default:return null}}var M0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M0[t.type]:e==="textarea"}function $h(t,e,r,n){hh(n),e=Ri(e,"onChange"),0<e.length&&(r=new Zo("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var rs=null,vs=null;function D0(t){qh(t,0)}function la(t){var e=an(t);if(ih(e))return t}function z0(t,e){if(t==="change")return e}var Ih=!1;if(Ut){var qa;if(Ut){var Ka="oninput"in document;if(!Ka){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),Ka=typeof yu.oninput=="function"}qa=Ka}else qa=!1;Ih=qa&&(!document.documentMode||9<document.documentMode)}function vu(){rs&&(rs.detachEvent("onpropertychange",Lh),vs=rs=null)}function Lh(t){if(t.propertyName==="value"&&la(vs)){var e=[];$h(e,vs,t,Vo(t)),gh(D0,e)}}function F0(t,e,r){t==="focusin"?(vu(),rs=e,vs=r,rs.attachEvent("onpropertychange",Lh)):t==="focusout"&&vu()}function B0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return la(vs)}function W0(t,e){if(t==="click")return la(e)}function V0(t,e){if(t==="input"||t==="change")return la(e)}function H0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:H0;function xs(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jl.call(e,s)||!ft(t[s],e[s]))return!1}return!0}function xu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wu(t,e){var r=xu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xu(r)}}function Mh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dh(){for(var t=window,e=Si();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Si(t.document)}return e}function Xo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function q0(t){var e=Dh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mh(r.ownerDocument.documentElement,r)){if(n!==null&&Xo(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=wu(r,i);var l=wu(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K0=Ut&&"documentMode"in document&&11>=document.documentMode,nn=null,zl=null,ns=null,Fl=!1;function ju(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fl||nn==null||nn!==Si(n)||(n=nn,"selectionStart"in n&&Xo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ns&&xs(ns,n)||(ns=n,n=Ri(zl,"onSelect"),0<n.length&&(e=new Zo("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nn)))}function Ys(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var sn={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Ga={},zh={};Ut&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function oa(t){if(Ga[t])return Ga[t];if(!sn[t])return t;var e=sn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in zh)return Ga[t]=e[r];return t}var Fh=oa("animationend"),Bh=oa("animationiteration"),Wh=oa("animationstart"),Vh=oa("transitionend"),Hh=new Map,bu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(t,e){Hh.set(t,e),Br(e,[t])}for(var Ja=0;Ja<bu.length;Ja++){var Za=bu[Ja],G0=Za.toLowerCase(),J0=Za[0].toUpperCase()+Za.slice(1);mr(G0,"on"+J0)}mr(Fh,"onAnimationEnd");mr(Bh,"onAnimationIteration");mr(Wh,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(Vh,"onTransitionEnd");xn("onMouseEnter",["mouseout","mouseover"]);xn("onMouseLeave",["mouseout","mouseover"]);xn("onPointerEnter",["pointerout","pointerover"]);xn("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function _u(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Gp(n,e,void 0,t),t.currentTarget=null}function qh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;_u(s,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;_u(s,o,u),i=c}}}if(Ei)throw t=Il,Ei=!1,Il=null,t}function G(t,e){var r=e[ql];r===void 0&&(r=e[ql]=new Set);var n=t+"__bubble";r.has(n)||(Kh(e,t,2,!1),r.add(n))}function Qa(t,e,r){var n=0;e&&(n|=4),Kh(r,t,n,e)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function ws(t){if(!t[Xs]){t[Xs]=!0,eh.forEach(function(r){r!=="selectionchange"&&(Z0.has(r)||Qa(r,!1,t),Qa(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xs]||(e[Xs]=!0,Qa("selectionchange",!1,e))}}function Kh(t,e,r,n){switch(Ph(e)){case 1:var s=u0;break;case 4:s=d0;break;default:s=Go}r=s.bind(null,e,r,t),s=void 0,!$l||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Ya(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=Or(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}gh(function(){var u=i,h=Vo(r),d=[];e:{var f=Hh.get(t);if(f!==void 0){var y=Zo,w=t;switch(t){case"keypress":if(gi(r)===0)break e;case"keydown":case"keyup":y=S0;break;case"focusin":w="focus",y=Ha;break;case"focusout":w="blur",y=Ha;break;case"beforeblur":case"afterblur":y=Ha;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=T0;break;case Fh:case Bh:case Wh:y=y0;break;case Vh:y=A0;break;case"scroll":y=h0;break;case"wheel":y=R0;break;case"copy":case"cut":case"paste":y=x0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fu}var b=(e&4)!==0,x=!b&&t==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var m=u,p;m!==null;){p=m;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,g!==null&&(j=ms(m,g),j!=null&&b.push(js(m,j,p)))),x)break;m=m.return}0<b.length&&(f=new y(f,w,null,r,h),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==Rl&&(w=r.relatedTarget||r.fromElement)&&(Or(w)||w[$t]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Or(w):null,w!==null&&(x=Wr(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(b=du,j="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(b=fu,j="onPointerLeave",g="onPointerEnter",m="pointer"),x=y==null?f:an(y),p=w==null?f:an(w),f=new b(j,m+"leave",y,r,h),f.target=x,f.relatedTarget=p,j=null,Or(h)===u&&(b=new b(g,m+"enter",w,r,h),b.target=p,b.relatedTarget=x,j=b),x=j,y&&w)t:{for(b=y,g=w,m=0,p=b;p;p=qr(p))m++;for(p=0,j=g;j;j=qr(j))p++;for(;0<m-p;)b=qr(b),m--;for(;0<p-m;)g=qr(g),p--;for(;m--;){if(b===g||g!==null&&b===g.alternate)break t;b=qr(b),g=qr(g)}b=null}else b=null;y!==null&&ku(d,f,y,b,!1),w!==null&&x!==null&&ku(d,x,w,b,!0)}}e:{if(f=u?an(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=z0;else if(gu(f))if(Ih)k=V0;else{k=B0;var S=F0}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=W0);if(k&&(k=k(t,u))){$h(d,k,r,h);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&El(f,"number",f.value)}switch(S=u?an(u):window,t){case"focusin":(gu(S)||S.contentEditable==="true")&&(nn=S,zl=u,ns=null);break;case"focusout":ns=zl=nn=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,ju(d,r,h);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":ju(d,r,h)}var C;if(Yo)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else rn?Rh(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Oh&&r.locale!=="ko"&&(rn||P!=="onCompositionStart"?P==="onCompositionEnd"&&rn&&(C=Ah()):(Xt=h,Jo="value"in Xt?Xt.value:Xt.textContent,rn=!0)),S=Ri(u,P),0<S.length&&(P=new hu(P,t,null,r,h),d.push({event:P,listeners:S}),C?P.data=C:(C=Uh(r),C!==null&&(P.data=C)))),(C=$0?I0(t,r):L0(t,r))&&(u=Ri(u,"onBeforeInput"),0<u.length&&(h=new hu("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=C))}qh(d,e)})}function js(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ri(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ms(t,r),i!=null&&n.unshift(js(t,i,s)),i=ms(t,e),i!=null&&n.push(js(t,i,s))),t=t.return}return n}function qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ku(t,e,r,n,s){for(var i=e._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=ms(r,i),c!=null&&l.unshift(js(r,c,o))):s||(c=ms(r,i),c!=null&&l.push(js(r,c,o)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var Q0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function Nu(t){return(typeof t=="string"?t:""+t).replace(Q0,`
`).replace(Y0,"")}function ei(t,e,r){if(e=Nu(e),Nu(t)!==e&&r)throw Error(N(425))}function Ui(){}var Bl=null,Wl=null;function Vl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,X0=typeof clearTimeout=="function"?clearTimeout:void 0,Su=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Su<"u"?function(t){return Su.resolve(null).then(t).catch(tg)}:Hl;function tg(t){setTimeout(function(){throw t})}function Xa(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ys(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ys(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var An=Math.random().toString(36).slice(2),vt="__reactFiber$"+An,bs="__reactProps$"+An,$t="__reactContainer$"+An,ql="__reactEvents$"+An,rg="__reactListeners$"+An,ng="__reactHandles$"+An;function Or(t){var e=t[vt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$t]||r[vt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Cu(t);t!==null;){if(r=t[vt])return r;t=Cu(t)}return e}t=r,r=t.parentNode}return null}function $s(t){return t=t[vt]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function an(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function ca(t){return t[bs]||null}var Kl=[],ln=-1;function pr(t){return{current:t}}function J(t){0>ln||(t.current=Kl[ln],Kl[ln]=null,ln--)}function K(t,e){ln++,Kl[ln]=t.current,t.current=e}var fr={},ke=pr(fr),Ue=pr(!1),Lr=fr;function wn(t,e){var r=t.type.contextTypes;if(!r)return fr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function $i(){J(Ue),J(ke)}function Eu(t,e,r){if(ke.current!==fr)throw Error(N(168));K(ke,e),K(Ue,r)}function Gh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(N(108,Fp(t)||"Unknown",s));return ee({},r,n)}function Ii(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fr,Lr=ke.current,K(ke,t),K(Ue,Ue.current),!0}function Tu(t,e,r){var n=t.stateNode;if(!n)throw Error(N(169));r?(t=Gh(t,e,Lr),n.__reactInternalMemoizedMergedChildContext=t,J(Ue),J(ke),K(ke,t)):J(Ue),K(Ue,r)}var Pt=null,ua=!1,el=!1;function Jh(t){Pt===null?Pt=[t]:Pt.push(t)}function sg(t){ua=!0,Jh(t)}function gr(){if(!el&&Pt!==null){el=!0;var t=0,e=V;try{var r=Pt;for(V=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pt=null,ua=!1}catch(s){throw Pt!==null&&(Pt=Pt.slice(t+1)),wh(Ho,gr),s}finally{V=e,el=!1}}return null}var on=[],cn=0,Li=null,Mi=0,Je=[],Ze=0,Mr=null,At=1,Ot="";function Er(t,e){on[cn++]=Mi,on[cn++]=Li,Li=t,Mi=e}function Zh(t,e,r){Je[Ze++]=At,Je[Ze++]=Ot,Je[Ze++]=Mr,Mr=t;var n=At;t=Ot;var s=32-dt(n)-1;n&=~(1<<s),r+=1;var i=32-dt(e)+s;if(30<i){var l=s-s%5;i=(n&(1<<l)-1).toString(32),n>>=l,s-=l,At=1<<32-dt(e)+s|r<<s|n,Ot=i+t}else At=1<<i|r<<s|n,Ot=t}function ec(t){t.return!==null&&(Er(t,1),Zh(t,1,0))}function tc(t){for(;t===Li;)Li=on[--cn],on[cn]=null,Mi=on[--cn],on[cn]=null;for(;t===Mr;)Mr=Je[--Ze],Je[Ze]=null,Ot=Je[--Ze],Je[Ze]=null,At=Je[--Ze],Je[Ze]=null}var We=null,Fe=null,Z=!1,ut=null;function Qh(t,e){var r=Qe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Pu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,We=t,Fe=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,We=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Mr!==null?{id:At,overflow:Ot}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,We=t,Fe=null,!0):!1;default:return!1}}function Gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jl(t){if(Z){var e=Fe;if(e){var r=e;if(!Pu(t,e)){if(Gl(t))throw Error(N(418));e=ar(r.nextSibling);var n=We;e&&Pu(t,e)?Qh(n,r):(t.flags=t.flags&-4097|2,Z=!1,We=t)}}else{if(Gl(t))throw Error(N(418));t.flags=t.flags&-4097|2,Z=!1,We=t}}}function Au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;We=t}function ti(t){if(t!==We)return!1;if(!Z)return Au(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vl(t.type,t.memoizedProps)),e&&(e=Fe)){if(Gl(t))throw Yh(),Error(N(418));for(;e;)Qh(t,e),e=ar(e.nextSibling)}if(Au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fe=ar(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=We?ar(t.stateNode.nextSibling):null;return!0}function Yh(){for(var t=Fe;t;)t=ar(t.nextSibling)}function jn(){Fe=We=null,Z=!1}function rc(t){ut===null?ut=[t]:ut.push(t)}var ig=Dt.ReactCurrentBatchConfig;function Wn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,t))}return t}function ri(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ou(t){var e=t._init;return e(t._payload)}function Xh(t){function e(g,m){if(t){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=ur(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,p,j){return m===null||m.tag!==6?(m=ll(p,g.mode,j),m.return=g,m):(m=s(m,p),m.return=g,m)}function c(g,m,p,j){var k=p.type;return k===tn?h(g,m,p.props.children,j,p.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qt&&Ou(k)===m.type)?(j=s(m,p.props),j.ref=Wn(g,m,p),j.return=g,j):(j=_i(p.type,p.key,p.props,null,g.mode,j),j.ref=Wn(g,m,p),j.return=g,j)}function u(g,m,p,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=ol(p,g.mode,j),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function h(g,m,p,j,k){return m===null||m.tag!==7?(m=Ir(p,g.mode,j,k),m.return=g,m):(m=s(m,p),m.return=g,m)}function d(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ll(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hs:return p=_i(m.type,m.key,m.props,null,g.mode,p),p.ref=Wn(g,null,m),p.return=g,p;case en:return m=ol(m,g.mode,p),m.return=g,m;case qt:var j=m._init;return d(g,j(m._payload),p)}if(Gn(m)||Mn(m))return m=Ir(m,g.mode,p,null),m.return=g,m;ri(g,m)}return null}function f(g,m,p,j){var k=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:o(g,m,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Hs:return p.key===k?c(g,m,p,j):null;case en:return p.key===k?u(g,m,p,j):null;case qt:return k=p._init,f(g,m,k(p._payload),j)}if(Gn(p)||Mn(p))return k!==null?null:h(g,m,p,j,null);ri(g,p)}return null}function y(g,m,p,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(p)||null,o(m,g,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Hs:return g=g.get(j.key===null?p:j.key)||null,c(m,g,j,k);case en:return g=g.get(j.key===null?p:j.key)||null,u(m,g,j,k);case qt:var S=j._init;return y(g,m,p,S(j._payload),k)}if(Gn(j)||Mn(j))return g=g.get(p)||null,h(m,g,j,k,null);ri(m,j)}return null}function w(g,m,p,j){for(var k=null,S=null,C=m,P=m=0,D=null;C!==null&&P<p.length;P++){C.index>P?(D=C,C=null):D=C.sibling;var U=f(g,C,p[P],j);if(U===null){C===null&&(C=D);break}t&&C&&U.alternate===null&&e(g,C),m=i(U,m,P),S===null?k=U:S.sibling=U,S=U,C=D}if(P===p.length)return r(g,C),Z&&Er(g,P),k;if(C===null){for(;P<p.length;P++)C=d(g,p[P],j),C!==null&&(m=i(C,m,P),S===null?k=C:S.sibling=C,S=C);return Z&&Er(g,P),k}for(C=n(g,C);P<p.length;P++)D=y(C,g,P,p[P],j),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?P:D.key),m=i(D,m,P),S===null?k=D:S.sibling=D,S=D);return t&&C.forEach(function(ye){return e(g,ye)}),Z&&Er(g,P),k}function b(g,m,p,j){var k=Mn(p);if(typeof k!="function")throw Error(N(150));if(p=k.call(p),p==null)throw Error(N(151));for(var S=k=null,C=m,P=m=0,D=null,U=p.next();C!==null&&!U.done;P++,U=p.next()){C.index>P?(D=C,C=null):D=C.sibling;var ye=f(g,C,U.value,j);if(ye===null){C===null&&(C=D);break}t&&C&&ye.alternate===null&&e(g,C),m=i(ye,m,P),S===null?k=ye:S.sibling=ye,S=ye,C=D}if(U.done)return r(g,C),Z&&Er(g,P),k;if(C===null){for(;!U.done;P++,U=p.next())U=d(g,U.value,j),U!==null&&(m=i(U,m,P),S===null?k=U:S.sibling=U,S=U);return Z&&Er(g,P),k}for(C=n(g,C);!U.done;P++,U=p.next())U=y(C,g,P,U.value,j),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?P:U.key),m=i(U,m,P),S===null?k=U:S.sibling=U,S=U);return t&&C.forEach(function(Le){return e(g,Le)}),Z&&Er(g,P),k}function x(g,m,p,j){if(typeof p=="object"&&p!==null&&p.type===tn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Hs:e:{for(var k=p.key,S=m;S!==null;){if(S.key===k){if(k=p.type,k===tn){if(S.tag===7){r(g,S.sibling),m=s(S,p.props.children),m.return=g,g=m;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qt&&Ou(k)===S.type){r(g,S.sibling),m=s(S,p.props),m.ref=Wn(g,S,p),m.return=g,g=m;break e}r(g,S);break}else e(g,S);S=S.sibling}p.type===tn?(m=Ir(p.props.children,g.mode,j,p.key),m.return=g,g=m):(j=_i(p.type,p.key,p.props,null,g.mode,j),j.ref=Wn(g,m,p),j.return=g,g=j)}return l(g);case en:e:{for(S=p.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=ol(p,g.mode,j),m.return=g,g=m}return l(g);case qt:return S=p._init,x(g,m,S(p._payload),j)}if(Gn(p))return w(g,m,p,j);if(Mn(p))return b(g,m,p,j);ri(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,p),m.return=g,g=m):(r(g,m),m=ll(p,g.mode,j),m.return=g,g=m),l(g)):r(g,m)}return x}var bn=Xh(!0),ef=Xh(!1),Di=pr(null),zi=null,un=null,nc=null;function sc(){nc=un=zi=null}function ic(t){var e=Di.current;J(Di),t._currentValue=e}function Zl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yn(t,e){zi=t,nc=un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function et(t){var e=t._currentValue;if(nc!==t)if(t={context:t,memoizedValue:e,next:null},un===null){if(zi===null)throw Error(N(308));un=t,zi.dependencies={lanes:0,firstContext:t}}else un=un.next=t;return e}var Rr=null;function ac(t){Rr===null?Rr=[t]:Rr.push(t)}function tf(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ac(e)):(r.next=s.next,s.next=r),e.interleaved=r,It(t,n)}function It(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Kt=!1;function lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,It(t,r)}return s=n.interleaved,s===null?(e.next=e,ac(n)):(e.next=s.next,s.next=e),n.interleaved=e,It(t,r)}function yi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qo(t,r)}}function Ru(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fi(t,e,r,n){var s=t.updateQueue;Kt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;l=0,h=u=c=null,o=i;do{var f=o.lane,y=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,b=o;switch(f=e,y=r,b.tag){case 1:if(w=b.payload,typeof w=="function"){d=w.call(y,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,f=typeof w=="function"?w.call(y,d,f):w,f==null)break e;d=ee({},d,f);break e;case 2:Kt=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=y,c=d):h=h.next=y,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zr|=l,t.lanes=l,t.memoizedState=d}}function Uu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Is={},jt=pr(Is),_s=pr(Is),ks=pr(Is);function Ur(t){if(t===Is)throw Error(N(174));return t}function oc(t,e){switch(K(ks,e),K(_s,t),K(jt,Is),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pl(e,t)}J(jt),K(jt,e)}function _n(){J(jt),J(_s),J(ks)}function nf(t){Ur(ks.current);var e=Ur(jt.current),r=Pl(e,t.type);e!==r&&(K(_s,t),K(jt,r))}function cc(t){_s.current===t&&(J(jt),J(_s))}var Y=pr(0);function Bi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tl=[];function uc(){for(var t=0;t<tl.length;t++)tl[t]._workInProgressVersionPrimary=null;tl.length=0}var vi=Dt.ReactCurrentDispatcher,rl=Dt.ReactCurrentBatchConfig,Dr=0,X=null,ue=null,pe=null,Wi=!1,ss=!1,Ns=0,ag=0;function je(){throw Error(N(321))}function dc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ft(t[r],e[r]))return!1;return!0}function hc(t,e,r,n,s,i){if(Dr=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vi.current=t===null||t.memoizedState===null?ug:dg,t=r(n,s),ss){i=0;do{if(ss=!1,Ns=0,25<=i)throw Error(N(301));i+=1,pe=ue=null,e.updateQueue=null,vi.current=hg,t=r(n,s)}while(ss)}if(vi.current=Vi,e=ue!==null&&ue.next!==null,Dr=0,pe=ue=X=null,Wi=!1,e)throw Error(N(300));return t}function fc(){var t=Ns!==0;return Ns=0,t}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?X.memoizedState=pe=t:pe=pe.next=t,pe}function tt(){if(ue===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=pe===null?X.memoizedState:pe.next;if(e!==null)pe=e,ue=t;else{if(t===null)throw Error(N(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},pe===null?X.memoizedState=pe=t:pe=pe.next=t}return pe}function Ss(t,e){return typeof e=="function"?e(t):e}function nl(t){var e=tt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=l=null,c=null,u=i;do{var h=u.lane;if((Dr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,l=n):c=c.next=d,X.lanes|=h,zr|=h}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,ft(n,e.memoizedState)||(Re=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,zr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sl(t){var e=tt(),r=e.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);ft(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function sf(){}function af(t,e){var r=X,n=tt(),s=e(),i=!ft(n.memoizedState,s);if(i&&(n.memoizedState=s,Re=!0),n=n.queue,mc(cf.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,Cs(9,of.bind(null,r,n,s,e),void 0,null),ge===null)throw Error(N(349));Dr&30||lf(r,e,s)}return s}function lf(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function of(t,e,r,n){e.value=r,e.getSnapshot=n,uf(e)&&df(t)}function cf(t,e,r){return r(function(){uf(e)&&df(t)})}function uf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ft(t,r)}catch{return!0}}function df(t){var e=It(t,1);e!==null&&ht(e,t,1,-1)}function $u(t){var e=gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:t},e.queue=t,t=t.dispatch=cg.bind(null,X,t),[e.memoizedState,t]}function Cs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function hf(){return tt().memoizedState}function xi(t,e,r,n){var s=gt();X.flags|=t,s.memoizedState=Cs(1|e,r,void 0,n===void 0?null:n)}function da(t,e,r,n){var s=tt();n=n===void 0?null:n;var i=void 0;if(ue!==null){var l=ue.memoizedState;if(i=l.destroy,n!==null&&dc(n,l.deps)){s.memoizedState=Cs(e,r,i,n);return}}X.flags|=t,s.memoizedState=Cs(1|e,r,i,n)}function Iu(t,e){return xi(8390656,8,t,e)}function mc(t,e){return da(2048,8,t,e)}function ff(t,e){return da(4,2,t,e)}function mf(t,e){return da(4,4,t,e)}function pf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gf(t,e,r){return r=r!=null?r.concat([t]):null,da(4,4,pf.bind(null,e,t),r)}function pc(){}function yf(t,e){var r=tt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vf(t,e){var r=tt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function xf(t,e,r){return Dr&21?(ft(r,e)||(r=_h(),X.lanes|=r,zr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=r)}function lg(t,e){var r=V;V=r!==0&&4>r?r:4,t(!0);var n=rl.transition;rl.transition={};try{t(!1),e()}finally{V=r,rl.transition=n}}function wf(){return tt().memoizedState}function og(t,e,r){var n=cr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jf(t))bf(e,r);else if(r=tf(t,e,r,n),r!==null){var s=Ee();ht(r,t,n,s),_f(r,e,n)}}function cg(t,e,r){var n=cr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jf(t))bf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,o=i(l,r);if(s.hasEagerState=!0,s.eagerState=o,ft(o,l)){var c=e.interleaved;c===null?(s.next=s,ac(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=tf(t,e,s,n),r!==null&&(s=Ee(),ht(r,t,n,s),_f(r,e,n))}}function jf(t){var e=t.alternate;return t===X||e!==null&&e===X}function bf(t,e){ss=Wi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _f(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qo(t,r)}}var Vi={readContext:et,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},ug={readContext:et,useCallback:function(t,e){return gt().memoizedState=[t,e===void 0?null:e],t},useContext:et,useEffect:Iu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,xi(4194308,4,pf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return xi(4194308,4,t,e)},useInsertionEffect:function(t,e){return xi(4,2,t,e)},useMemo:function(t,e){var r=gt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=gt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=og.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=gt();return t={current:t},e.memoizedState=t},useState:$u,useDebugValue:pc,useDeferredValue:function(t){return gt().memoizedState=t},useTransition:function(){var t=$u(!1),e=t[0];return t=lg.bind(null,t[1]),gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=gt();if(Z){if(r===void 0)throw Error(N(407));r=r()}else{if(r=e(),ge===null)throw Error(N(349));Dr&30||lf(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Iu(cf.bind(null,n,i,t),[t]),n.flags|=2048,Cs(9,of.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=gt(),e=ge.identifierPrefix;if(Z){var r=Ot,n=At;r=(n&~(1<<32-dt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ns++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ag++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dg={readContext:et,useCallback:yf,useContext:et,useEffect:mc,useImperativeHandle:gf,useInsertionEffect:ff,useLayoutEffect:mf,useMemo:vf,useReducer:nl,useRef:hf,useState:function(){return nl(Ss)},useDebugValue:pc,useDeferredValue:function(t){var e=tt();return xf(e,ue.memoizedState,t)},useTransition:function(){var t=nl(Ss)[0],e=tt().memoizedState;return[t,e]},useMutableSource:sf,useSyncExternalStore:af,useId:wf,unstable_isNewReconciler:!1},hg={readContext:et,useCallback:yf,useContext:et,useEffect:mc,useImperativeHandle:gf,useInsertionEffect:ff,useLayoutEffect:mf,useMemo:vf,useReducer:sl,useRef:hf,useState:function(){return sl(Ss)},useDebugValue:pc,useDeferredValue:function(t){var e=tt();return ue===null?e.memoizedState=t:xf(e,ue.memoizedState,t)},useTransition:function(){var t=sl(Ss)[0],e=tt().memoizedState;return[t,e]},useMutableSource:sf,useSyncExternalStore:af,useId:wf,unstable_isNewReconciler:!1};function lt(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ql(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ha={isMounted:function(t){return(t=t._reactInternals)?Wr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=cr(t),i=Rt(n,s);i.payload=e,r!=null&&(i.callback=r),e=lr(t,i,s),e!==null&&(ht(e,t,s,n),yi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=cr(t),i=Rt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=lr(t,i,s),e!==null&&(ht(e,t,s,n),yi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ee(),n=cr(t),s=Rt(r,n);s.tag=2,e!=null&&(s.callback=e),e=lr(t,s,n),e!==null&&(ht(e,t,n,r),yi(e,t,n))}};function Lu(t,e,r,n,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):e.prototype&&e.prototype.isPureReactComponent?!xs(r,n)||!xs(s,i):!0}function kf(t,e,r){var n=!1,s=fr,i=e.contextType;return typeof i=="object"&&i!==null?i=et(i):(s=$e(e)?Lr:ke.current,n=e.contextTypes,i=(n=n!=null)?wn(t,s):fr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ha,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Mu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ha.enqueueReplaceState(e,e.state,null)}function Yl(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},lc(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=et(i):(i=$e(e)?Lr:ke.current,s.context=wn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ql(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ha.enqueueReplaceState(s,s.state,null),Fi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function kn(t,e){try{var r="",n=e;do r+=zp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function il(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xl(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fg=typeof WeakMap=="function"?WeakMap:Map;function Nf(t,e,r){r=Rt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qi||(qi=!0,co=n),Xl(t,e)},r}function Sf(t,e,r){r=Rt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Xl(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xl(t,e),typeof n!="function"&&(or===null?or=new Set([this]):or.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function Du(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new fg;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Cg.bind(null,t,e,r),e.then(t,t))}function zu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Rt(-1,1),e.tag=2,lr(r,e,1))),r.lanes|=1),t)}var mg=Dt.ReactCurrentOwner,Re=!1;function Ce(t,e,r,n){e.child=t===null?ef(e,null,r,n):bn(e,t.child,r,n)}function Bu(t,e,r,n,s){r=r.render;var i=e.ref;return yn(e,s),n=hc(t,e,r,n,i,s),r=fc(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lt(t,e,s)):(Z&&r&&ec(e),e.flags|=1,Ce(t,e,n,s),e.child)}function Wu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!_c(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Cf(t,e,i,n,s)):(t=_i(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:xs,r(l,n)&&t.ref===e.ref)return Lt(t,e,s)}return e.flags|=1,t=ur(i,n),t.ref=e.ref,t.return=e,e.child=t}function Cf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(xs(i,n)&&t.ref===e.ref)if(Re=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,Lt(t,e,s)}return eo(t,e,r,n,s)}function Ef(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(hn,ze),ze|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(hn,ze),ze|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,K(hn,ze),ze|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,K(hn,ze),ze|=n;return Ce(t,e,s,r),e.child}function Tf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function eo(t,e,r,n,s){var i=$e(r)?Lr:ke.current;return i=wn(e,i),yn(e,s),r=hc(t,e,r,n,i,s),n=fc(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Lt(t,e,s)):(Z&&n&&ec(e),e.flags|=1,Ce(t,e,r,s),e.child)}function Vu(t,e,r,n,s){if($e(r)){var i=!0;Ii(e)}else i=!1;if(yn(e,s),e.stateNode===null)wi(t,e),kf(e,r,n),Yl(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,o=e.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=et(u):(u=$e(r)?Lr:ke.current,u=wn(e,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Mu(e,l,n,u),Kt=!1;var f=e.memoizedState;l.state=f,Fi(e,n,l,s),c=e.memoizedState,o!==n||f!==c||Ue.current||Kt?(typeof h=="function"&&(Ql(e,r,h,n),c=e.memoizedState),(o=Kt||Lu(e,r,o,n,f,c,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,rf(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:lt(e.type,o),l.props=u,d=e.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=et(c):(c=$e(r)?Lr:ke.current,c=wn(e,c));var y=r.getDerivedStateFromProps;(h=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==d||f!==c)&&Mu(e,l,n,c),Kt=!1,f=e.memoizedState,l.state=f,Fi(e,n,l,s);var w=e.memoizedState;o!==d||f!==w||Ue.current||Kt?(typeof y=="function"&&(Ql(e,r,y,n),w=e.memoizedState),(u=Kt||Lu(e,r,u,n,f,w,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,w,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),l.props=n,l.state=w,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return to(t,e,r,n,i,s)}function to(t,e,r,n,s,i){Tf(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&Tu(e,r,!1),Lt(t,e,i);n=e.stateNode,mg.current=e;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=bn(e,t.child,null,i),e.child=bn(e,null,o,i)):Ce(t,e,o,i),e.memoizedState=n.state,s&&Tu(e,r,!0),e.child}function Pf(t){var e=t.stateNode;e.pendingContext?Eu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Eu(t,e.context,!1),oc(t,e.containerInfo)}function Hu(t,e,r,n,s){return jn(),rc(s),e.flags|=256,Ce(t,e,r,n),e.child}var ro={dehydrated:null,treeContext:null,retryLane:0};function no(t){return{baseLanes:t,cachePool:null,transitions:null}}function Af(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,l=(e.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),K(Y,s&1),t===null)return Jl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,i?(n=e.mode,i=e.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=pa(l,n,0,null),t=Ir(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=no(r),e.memoizedState=ro,t):gc(e,l));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return pg(t,e,l,n,o,s,r);if(i){i=n.fallback,l=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ur(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=ur(o,i):(i=Ir(i,l,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,l=t.child.memoizedState,l=l===null?no(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,e.memoizedState=ro,n}return i=t.child,t=i.sibling,n=ur(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gc(t,e){return e=pa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ni(t,e,r,n){return n!==null&&rc(n),bn(e,t.child,null,r),t=gc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pg(t,e,r,n,s,i,l){if(r)return e.flags&256?(e.flags&=-257,n=il(Error(N(422))),ni(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=pa({mode:"visible",children:n.children},s,0,null),i=Ir(i,s,l,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&bn(e,t.child,null,l),e.child.memoizedState=no(l),e.memoizedState=ro,i);if(!(e.mode&1))return ni(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(N(419)),n=il(i,n,void 0),ni(t,e,l,n)}if(o=(l&t.childLanes)!==0,Re||o){if(n=ge,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,It(t,s),ht(n,t,s,-1))}return bc(),n=il(Error(N(421))),ni(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Eg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fe=ar(s.nextSibling),We=e,Z=!0,ut=null,t!==null&&(Je[Ze++]=At,Je[Ze++]=Ot,Je[Ze++]=Mr,At=t.id,Ot=t.overflow,Mr=e),e=gc(e,n.children),e.flags|=4096,e)}function qu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zl(t.return,e,r)}function al(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Of(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qu(t,r,e);else if(t.tag===19)qu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(K(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Bi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),al(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}al(e,!0,r,null,i);break;case"together":al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),zr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,r=ur(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ur(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function gg(t,e,r){switch(e.tag){case 3:Pf(e),jn();break;case 5:nf(e);break;case 1:$e(e.type)&&Ii(e);break;case 4:oc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;K(Di,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(K(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?Af(t,e,r):(K(Y,Y.current&1),t=Lt(t,e,r),t!==null?t.sibling:null);K(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Of(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,Ef(t,e,r)}return Lt(t,e,r)}var Rf,so,Uf,$f;Rf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};so=function(){};Uf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ur(jt.current);var i=null;switch(r){case"input":s=Sl(t,s),n=Sl(t,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=Tl(t,s),n=Tl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ui)}Al(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",t),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};$f=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vn(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function yg(t,e,r){var n=e.pendingProps;switch(tc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return $e(e.type)&&$i(),be(e),null;case 3:return n=e.stateNode,_n(),J(Ue),J(ke),uc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ti(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ut!==null&&(fo(ut),ut=null))),so(t,e),be(e),null;case 5:cc(e);var s=Ur(ks.current);if(r=e.type,t!==null&&e.stateNode!=null)Uf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(N(166));return be(e),null}if(t=Ur(jt.current),ti(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[vt]=e,n[bs]=i,t=(e.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<Zn.length;s++)G(Zn[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":tu(n,i),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},G("invalid",n);break;case"textarea":nu(n,i),G("invalid",n)}Al(r,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ei(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ei(n.textContent,o,t),s=["children",""+o]):hs.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&G("scroll",n)}switch(r){case"input":qs(n),ru(n,i,!0);break;case"textarea":qs(n),su(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ui)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[vt]=e,t[bs]=n,Rf(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ol(r,n),r){case"dialog":G("cancel",t),G("close",t),s=n;break;case"iframe":case"object":case"embed":G("load",t),s=n;break;case"video":case"audio":for(s=0;s<Zn.length;s++)G(Zn[s],t);s=n;break;case"source":G("error",t),s=n;break;case"img":case"image":case"link":G("error",t),G("load",t),s=n;break;case"details":G("toggle",t),s=n;break;case"input":tu(t,n),s=Sl(t,n),G("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),G("invalid",t);break;case"textarea":nu(t,n),s=Tl(t,n),G("invalid",t);break;default:s=n}Al(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?dh(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ch(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&fs(t,c):typeof c=="number"&&fs(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&G("scroll",t):c!=null&&zo(t,i,c,l))}switch(r){case"input":qs(t),ru(t,n,!1);break;case"textarea":qs(t),su(t);break;case"option":n.value!=null&&t.setAttribute("value",""+hr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?fn(t,!!n.multiple,i,!1):n.defaultValue!=null&&fn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)$f(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(N(166));if(r=Ur(ks.current),Ur(jt.current),ti(e)){if(n=e.stateNode,r=e.memoizedProps,n[vt]=e,(i=n.nodeValue!==r)&&(t=We,t!==null))switch(t.tag){case 3:ei(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ei(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vt]=e,e.stateNode=n}return be(e),null;case 13:if(J(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&Fe!==null&&e.mode&1&&!(e.flags&128))Yh(),jn(),e.flags|=98560,i=!1;else if(i=ti(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[vt]=e}else jn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else ut!==null&&(fo(ut),ut=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?he===0&&(he=3):bc())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return _n(),so(t,e),t===null&&ws(e.stateNode.containerInfo),be(e),null;case 10:return ic(e.type._context),be(e),null;case 17:return $e(e.type)&&$i(),be(e),null;case 19:if(J(Y),i=e.memoizedState,i===null)return be(e),null;if(n=(e.flags&128)!==0,l=i.rendering,l===null)if(n)Vn(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Bi(t),l!==null){for(e.flags|=128,Vn(i,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return K(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>Nn&&(e.flags|=128,n=!0,Vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Bi(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Z)return be(e),null}else 2*ne()-i.renderingStartTime>Nn&&r!==1073741824&&(e.flags|=128,n=!0,Vn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(r=i.last,r!==null?r.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,r=Y.current,K(Y,n?r&1|2:r&1),e):(be(e),null);case 22:case 23:return jc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ze&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function vg(t,e){switch(tc(e),e.tag){case 1:return $e(e.type)&&$i(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _n(),J(Ue),J(ke),uc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cc(e),null;case 13:if(J(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));jn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Y),null;case 4:return _n(),null;case 10:return ic(e.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var si=!1,_e=!1,xg=typeof WeakSet=="function"?WeakSet:Set,O=null;function dn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function io(t,e,r){try{r()}catch(n){re(t,e,n)}}var Ku=!1;function wg(t,e){if(Bl=Ai,t=Dh(),Xo(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var y;d!==r||s!==0&&d.nodeType!==3||(o=l+s),d!==i||n!==0&&d.nodeType!==3||(c=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===r&&++u===s&&(o=l),f===i&&++h===n&&(c=l),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wl={focusedElem:t,selectionRange:r},Ai=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,x=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:lt(e.type,b),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(j){re(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return w=Ku,Ku=!1,w}function is(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&io(e,r,i)}s=s.next}while(s!==n)}}function fa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ao(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function If(t){var e=t.alternate;e!==null&&(t.alternate=null,If(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vt],delete e[bs],delete e[ql],delete e[rg],delete e[ng])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lf(t){return t.tag===5||t.tag===3||t.tag===4}function Gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ui));else if(n!==4&&(t=t.child,t!==null))for(lo(t,e,r),t=t.sibling;t!==null;)lo(t,e,r),t=t.sibling}function oo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oo(t,e,r),t=t.sibling;t!==null;)oo(t,e,r),t=t.sibling}var ve=null,ot=!1;function Ft(t,e,r){for(r=r.child;r!==null;)Mf(t,e,r),r=r.sibling}function Mf(t,e,r){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ia,r)}catch{}switch(r.tag){case 5:_e||dn(r,e);case 6:var n=ve,s=ot;ve=null,Ft(t,e,r),ve=n,ot=s,ve!==null&&(ot?(t=ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(ot?(t=ve,r=r.stateNode,t.nodeType===8?Xa(t.parentNode,r):t.nodeType===1&&Xa(t,r),ys(t)):Xa(ve,r.stateNode));break;case 4:n=ve,s=ot,ve=r.stateNode.containerInfo,ot=!0,Ft(t,e,r),ve=n,ot=s;break;case 0:case 11:case 14:case 15:if(!_e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&io(r,e,l),s=s.next}while(s!==n)}Ft(t,e,r);break;case 1:if(!_e&&(dn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){re(r,e,o)}Ft(t,e,r);break;case 21:Ft(t,e,r);break;case 22:r.mode&1?(_e=(n=_e)||r.memoizedState!==null,Ft(t,e,r),_e=n):Ft(t,e,r);break;default:Ft(t,e,r)}}function Ju(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xg),e.forEach(function(n){var s=Tg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function nt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 5:ve=o.stateNode,ot=!1;break e;case 3:ve=o.stateNode.containerInfo,ot=!0;break e;case 4:ve=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(ve===null)throw Error(N(160));Mf(i,l,s),ve=null,ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Df(e,t),e=e.sibling}function Df(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nt(e,t),pt(t),n&4){try{is(3,t,t.return),fa(3,t)}catch(b){re(t,t.return,b)}try{is(5,t,t.return)}catch(b){re(t,t.return,b)}}break;case 1:nt(e,t),pt(t),n&512&&r!==null&&dn(r,r.return);break;case 5:if(nt(e,t),pt(t),n&512&&r!==null&&dn(r,r.return),t.flags&32){var s=t.stateNode;try{fs(s,"")}catch(b){re(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ah(s,i),Ol(o,l);var u=Ol(o,i);for(l=0;l<c.length;l+=2){var h=c[l],d=c[l+1];h==="style"?dh(s,d):h==="dangerouslySetInnerHTML"?ch(s,d):h==="children"?fs(s,d):zo(s,h,d,u)}switch(o){case"input":Cl(s,i);break;case"textarea":lh(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?fn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?fn(s,!!i.multiple,i.defaultValue,!0):fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[bs]=i}catch(b){re(t,t.return,b)}}break;case 6:if(nt(e,t),pt(t),n&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){re(t,t.return,b)}}break;case 3:if(nt(e,t),pt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ys(e.containerInfo)}catch(b){re(t,t.return,b)}break;case 4:nt(e,t),pt(t);break;case 13:nt(e,t),pt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xc=ne())),n&4&&Ju(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(_e=(u=_e)||h,nt(e,t),_e=u):nt(e,t),pt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(O=t,h=t.child;h!==null;){for(d=O=h;O!==null;){switch(f=O,y=f.child,f.tag){case 0:case 11:case 14:case 15:is(4,f,f.return);break;case 1:dn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){re(n,r,b)}}break;case 5:dn(f,f.return);break;case 22:if(f.memoizedState!==null){Qu(d);continue}}y!==null?(y.return=f,O=y):Qu(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=uh("display",l))}catch(b){re(t,t.return,b)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){re(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(e,t),pt(t),n&4&&Ju(t);break;case 21:break;default:nt(e,t),pt(t)}}function pt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Lf(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fs(s,""),n.flags&=-33);var i=Gu(t);oo(t,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Gu(t);lo(t,o,l);break;default:throw Error(N(161))}}catch(c){re(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jg(t,e,r){O=t,zf(t)}function zf(t,e,r){for(var n=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||si;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||_e;o=si;var u=_e;if(si=l,(_e=c)&&!u)for(O=s;O!==null;)l=O,c=l.child,l.tag===22&&l.memoizedState!==null?Yu(s):c!==null?(c.return=l,O=c):Yu(s);for(;i!==null;)O=i,zf(i),i=i.sibling;O=s,si=o,_e=u}Zu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Zu(t)}}function Zu(t){for(;O!==null;){var e=O;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||fa(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_e)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:lt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uu(e,i,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Uu(e,l,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}_e||e.flags&512&&ao(e)}catch(f){re(e,e.return,f)}}if(e===t){O=null;break}if(r=e.sibling,r!==null){r.return=e.return,O=r;break}O=e.return}}function Qu(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var r=e.sibling;if(r!==null){r.return=e.return,O=r;break}O=e.return}}function Yu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fa(4,e)}catch(c){re(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){re(e,s,c)}}var i=e.return;try{ao(e)}catch(c){re(e,i,c)}break;case 5:var l=e.return;try{ao(e)}catch(c){re(e,l,c)}}}catch(c){re(e,e.return,c)}if(e===t){O=null;break}var o=e.sibling;if(o!==null){o.return=e.return,O=o;break}O=e.return}}var bg=Math.ceil,Hi=Dt.ReactCurrentDispatcher,yc=Dt.ReactCurrentOwner,Ye=Dt.ReactCurrentBatchConfig,W=0,ge=null,le=null,xe=0,ze=0,hn=pr(0),he=0,Es=null,zr=0,ma=0,vc=0,as=null,Ae=null,xc=0,Nn=1/0,Ct=null,qi=!1,co=null,or=null,ii=!1,er=null,Ki=0,ls=0,uo=null,ji=-1,bi=0;function Ee(){return W&6?ne():ji!==-1?ji:ji=ne()}function cr(t){return t.mode&1?W&2&&xe!==0?xe&-xe:ig.transition!==null?(bi===0&&(bi=_h()),bi):(t=V,t!==0||(t=window.event,t=t===void 0?16:Ph(t.type)),t):1}function ht(t,e,r,n){if(50<ls)throw ls=0,uo=null,Error(N(185));Rs(t,r,n),(!(W&2)||t!==ge)&&(t===ge&&(!(W&2)&&(ma|=r),he===4&&Zt(t,xe)),Ie(t,n),r===1&&W===0&&!(e.mode&1)&&(Nn=ne()+500,ua&&gr()))}function Ie(t,e){var r=t.callbackNode;i0(t,e);var n=Pi(t,t===ge?xe:0);if(n===0)r!==null&&lu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&lu(r),e===1)t.tag===0?sg(Xu.bind(null,t)):Jh(Xu.bind(null,t)),eg(function(){!(W&6)&&gr()}),r=null;else{switch(kh(n)){case 1:r=Ho;break;case 4:r=jh;break;case 16:r=Ti;break;case 536870912:r=bh;break;default:r=Ti}r=Gf(r,Ff.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Ff(t,e){if(ji=-1,bi=0,W&6)throw Error(N(327));var r=t.callbackNode;if(vn()&&t.callbackNode!==r)return null;var n=Pi(t,t===ge?xe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gi(t,n);else{e=n;var s=W;W|=2;var i=Wf();(ge!==t||xe!==e)&&(Ct=null,Nn=ne()+500,$r(t,e));do try{Ng();break}catch(o){Bf(t,o)}while(!0);sc(),Hi.current=i,W=s,le!==null?e=0:(ge=null,xe=0,e=he)}if(e!==0){if(e===2&&(s=Ll(t),s!==0&&(n=s,e=ho(t,s))),e===1)throw r=Es,$r(t,0),Zt(t,n),Ie(t,ne()),r;if(e===6)Zt(t,n);else{if(s=t.current.alternate,!(n&30)&&!_g(s)&&(e=Gi(t,n),e===2&&(i=Ll(t),i!==0&&(n=i,e=ho(t,i))),e===1))throw r=Es,$r(t,0),Zt(t,n),Ie(t,ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(N(345));case 2:Tr(t,Ae,Ct);break;case 3:if(Zt(t,n),(n&130023424)===n&&(e=xc+500-ne(),10<e)){if(Pi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ee(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hl(Tr.bind(null,t,Ae,Ct),e);break}Tr(t,Ae,Ct);break;case 4:if(Zt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-dt(n);i=1<<l,l=e[l],l>s&&(s=l),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bg(n/1960))-n,10<n){t.timeoutHandle=Hl(Tr.bind(null,t,Ae,Ct),n);break}Tr(t,Ae,Ct);break;case 5:Tr(t,Ae,Ct);break;default:throw Error(N(329))}}}return Ie(t,ne()),t.callbackNode===r?Ff.bind(null,t):null}function ho(t,e){var r=as;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=Gi(t,e),t!==2&&(e=Ae,Ae=r,e!==null&&fo(e)),t}function fo(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function _g(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ft(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zt(t,e){for(e&=~vc,e&=~ma,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-dt(e),n=1<<r;t[r]=-1,e&=~n}}function Xu(t){if(W&6)throw Error(N(327));vn();var e=Pi(t,0);if(!(e&1))return Ie(t,ne()),null;var r=Gi(t,e);if(t.tag!==0&&r===2){var n=Ll(t);n!==0&&(e=n,r=ho(t,n))}if(r===1)throw r=Es,$r(t,0),Zt(t,e),Ie(t,ne()),r;if(r===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,Ae,Ct),Ie(t,ne()),null}function wc(t,e){var r=W;W|=1;try{return t(e)}finally{W=r,W===0&&(Nn=ne()+500,ua&&gr())}}function Fr(t){er!==null&&er.tag===0&&!(W&6)&&vn();var e=W;W|=1;var r=Ye.transition,n=V;try{if(Ye.transition=null,V=1,t)return t()}finally{V=n,Ye.transition=r,W=e,!(W&6)&&gr()}}function jc(){ze=hn.current,J(hn)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,X0(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(tc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$i();break;case 3:_n(),J(Ue),J(ke),uc();break;case 5:cc(n);break;case 4:_n();break;case 13:J(Y);break;case 19:J(Y);break;case 10:ic(n.type._context);break;case 22:case 23:jc()}r=r.return}if(ge=t,le=t=ur(t.current,null),xe=ze=e,he=0,Es=null,vc=ma=zr=0,Ae=as=null,Rr!==null){for(e=0;e<Rr.length;e++)if(r=Rr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=s,n.next=l}r.pending=n}Rr=null}return t}function Bf(t,e){do{var r=le;try{if(sc(),vi.current=Vi,Wi){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wi=!1}if(Dr=0,pe=ue=X=null,ss=!1,Ns=0,yc.current=null,r===null||r.return===null){he=1,Es=e,le=null;break}e:{var i=t,l=r.return,o=r,c=e;if(e=xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=zu(l);if(y!==null){y.flags&=-257,Fu(y,l,o,i,e),y.mode&1&&Du(i,u,e),e=y,c=u;var w=e.updateQueue;if(w===null){var b=new Set;b.add(c),e.updateQueue=b}else w.add(c);break e}else{if(!(e&1)){Du(i,u,e),bc();break e}c=Error(N(426))}}else if(Z&&o.mode&1){var x=zu(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Fu(x,l,o,i,e),rc(kn(c,o));break e}}i=c=kn(c,o),he!==4&&(he=2),as===null?as=[i]:as.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Nf(i,c,e);Ru(i,g);break e;case 1:o=c;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(or===null||!or.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=Sf(i,o,e);Ru(i,j);break e}}i=i.return}while(i!==null)}Hf(r)}catch(k){e=k,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function Wf(){var t=Hi.current;return Hi.current=Vi,t===null?Vi:t}function bc(){(he===0||he===3||he===2)&&(he=4),ge===null||!(zr&268435455)&&!(ma&268435455)||Zt(ge,xe)}function Gi(t,e){var r=W;W|=2;var n=Wf();(ge!==t||xe!==e)&&(Ct=null,$r(t,e));do try{kg();break}catch(s){Bf(t,s)}while(!0);if(sc(),W=r,Hi.current=n,le!==null)throw Error(N(261));return ge=null,xe=0,he}function kg(){for(;le!==null;)Vf(le)}function Ng(){for(;le!==null&&!Zp();)Vf(le)}function Vf(t){var e=Kf(t.alternate,t,ze);t.memoizedProps=t.pendingProps,e===null?Hf(t):le=e,yc.current=null}function Hf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vg(r,e),r!==null){r.flags&=32767,le=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,le=null;return}}else if(r=yg(r,e,ze),r!==null){le=r;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);he===0&&(he=5)}function Tr(t,e,r){var n=V,s=Ye.transition;try{Ye.transition=null,V=1,Sg(t,e,r,n)}finally{Ye.transition=s,V=n}return null}function Sg(t,e,r,n){do vn();while(er!==null);if(W&6)throw Error(N(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(a0(t,i),t===ge&&(le=ge=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ii||(ii=!0,Gf(Ti,function(){return vn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ye.transition,Ye.transition=null;var l=V;V=1;var o=W;W|=4,yc.current=null,wg(t,r),Df(r,t),q0(Wl),Ai=!!Bl,Wl=Bl=null,t.current=r,jg(r),Qp(),W=o,V=l,Ye.transition=i}else t.current=r;if(ii&&(ii=!1,er=t,Ki=s),i=t.pendingLanes,i===0&&(or=null),e0(r.stateNode),Ie(t,ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(qi)throw qi=!1,t=co,co=null,t;return Ki&1&&t.tag!==0&&vn(),i=t.pendingLanes,i&1?t===uo?ls++:(ls=0,uo=t):ls=0,gr(),null}function vn(){if(er!==null){var t=kh(Ki),e=Ye.transition,r=V;try{if(Ye.transition=null,V=16>t?16:t,er===null)var n=!1;else{if(t=er,er=null,Ki=0,W&6)throw Error(N(331));var s=W;for(W|=4,O=t.current;O!==null;){var i=O,l=i.child;if(O.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(O=u;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:is(8,h,i)}var d=h.child;if(d!==null)d.return=h,O=d;else for(;O!==null;){h=O;var f=h.sibling,y=h.return;if(If(h),h===u){O=null;break}if(f!==null){f.return=y,O=f;break}O=y}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}O=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,O=l;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:is(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){l=O;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,O=p;else e:for(l=m;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fa(9,o)}}catch(k){re(o,o.return,k)}if(o===l){O=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,O=j;break e}O=o.return}}if(W=s,gr(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ia,t)}catch{}n=!0}return n}finally{V=r,Ye.transition=e}}return!1}function ed(t,e,r){e=kn(r,e),e=Nf(t,e,1),t=lr(t,e,1),e=Ee(),t!==null&&(Rs(t,1,e),Ie(t,e))}function re(t,e,r){if(t.tag===3)ed(t,t,r);else for(;e!==null;){if(e.tag===3){ed(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(or===null||!or.has(n))){t=kn(r,t),t=Sf(e,t,1),e=lr(e,t,1),t=Ee(),e!==null&&(Rs(e,1,t),Ie(e,t));break}}e=e.return}}function Cg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&r,ge===t&&(xe&r)===r&&(he===4||he===3&&(xe&130023424)===xe&&500>ne()-xc?$r(t,0):vc|=r),Ie(t,e)}function qf(t,e){e===0&&(t.mode&1?(e=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):e=1);var r=Ee();t=It(t,e),t!==null&&(Rs(t,e,r),Ie(t,r))}function Eg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),qf(t,r)}function Tg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(e),qf(t,r)}var Kf;Kf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ue.current)Re=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Re=!1,gg(t,e,r);Re=!!(t.flags&131072)}else Re=!1,Z&&e.flags&1048576&&Zh(e,Mi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;wi(t,e),t=e.pendingProps;var s=wn(e,ke.current);yn(e,r),s=hc(null,e,n,t,s,r);var i=fc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(n)?(i=!0,Ii(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lc(e),s.updater=ha,e.stateNode=s,s._reactInternals=e,Yl(e,n,t,r),e=to(null,e,n,!0,i,r)):(e.tag=0,Z&&i&&ec(e),Ce(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(wi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Ag(n),t=lt(n,t),s){case 0:e=eo(null,e,n,t,r);break e;case 1:e=Vu(null,e,n,t,r);break e;case 11:e=Bu(null,e,n,t,r);break e;case 14:e=Wu(null,e,n,lt(n.type,t),r);break e}throw Error(N(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),eo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),Vu(t,e,n,s,r);case 3:e:{if(Pf(e),t===null)throw Error(N(387));n=e.pendingProps,i=e.memoizedState,s=i.element,rf(t,e),Fi(e,n,null,r);var l=e.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=kn(Error(N(423)),e),e=Hu(t,e,n,r,s);break e}else if(n!==s){s=kn(Error(N(424)),e),e=Hu(t,e,n,r,s);break e}else for(Fe=ar(e.stateNode.containerInfo.firstChild),We=e,Z=!0,ut=null,r=ef(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jn(),n===s){e=Lt(t,e,r);break e}Ce(t,e,n,r)}e=e.child}return e;case 5:return nf(e),t===null&&Jl(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Vl(n,s)?l=null:i!==null&&Vl(n,i)&&(e.flags|=32),Tf(t,e),Ce(t,e,l,r),e.child;case 6:return t===null&&Jl(e),null;case 13:return Af(t,e,r);case 4:return oc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=bn(e,null,n,r):Ce(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),Bu(t,e,n,s,r);case 7:return Ce(t,e,e.pendingProps,r),e.child;case 8:return Ce(t,e,e.pendingProps.children,r),e.child;case 12:return Ce(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,K(Di,n._currentValue),n._currentValue=l,i!==null)if(ft(i.value,l)){if(i.children===s.children&&!Ue.current){e=Lt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Zl(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(N(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Zl(l,r,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ce(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,yn(e,r),s=et(s),n=n(s),e.flags|=1,Ce(t,e,n,r),e.child;case 14:return n=e.type,s=lt(n,e.pendingProps),s=lt(n.type,s),Wu(t,e,n,s,r);case 15:return Cf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:lt(n,s),wi(t,e),e.tag=1,$e(n)?(t=!0,Ii(e)):t=!1,yn(e,r),kf(e,n,s),Yl(e,n,s,r),to(null,e,n,!0,t,r);case 19:return Of(t,e,r);case 22:return Ef(t,e,r)}throw Error(N(156,e.tag))};function Gf(t,e){return wh(t,e)}function Pg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,r,n){return new Pg(t,e,r,n)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ag(t){if(typeof t=="function")return _c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bo)return 11;if(t===Wo)return 14}return 2}function ur(t,e){var r=t.alternate;return r===null?(r=Qe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _i(t,e,r,n,s,i){var l=2;if(n=t,typeof t=="function")_c(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case tn:return Ir(r.children,s,i,e);case Fo:l=8,s|=8;break;case bl:return t=Qe(12,r,e,s|2),t.elementType=bl,t.lanes=i,t;case _l:return t=Qe(13,r,e,s),t.elementType=_l,t.lanes=i,t;case kl:return t=Qe(19,r,e,s),t.elementType=kl,t.lanes=i,t;case nh:return pa(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case th:l=10;break e;case rh:l=9;break e;case Bo:l=11;break e;case Wo:l=14;break e;case qt:l=16,n=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Qe(l,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ir(t,e,r,n){return t=Qe(7,t,n,e),t.lanes=r,t}function pa(t,e,r,n){return t=Qe(22,t,n,e),t.elementType=nh,t.lanes=r,t.stateNode={isHidden:!1},t}function ll(t,e,r){return t=Qe(6,t,null,e),t.lanes=r,t}function ol(t,e,r){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Og(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kc(t,e,r,n,s,i,l,o,c){return t=new Og(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},lc(i),t}function Rg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Jf(t){if(!t)return fr;t=t._reactInternals;e:{if(Wr(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var r=t.type;if($e(r))return Gh(t,r,e)}return e}function Zf(t,e,r,n,s,i,l,o,c){return t=kc(r,n,!0,t,s,i,l,o,c),t.context=Jf(null),r=t.current,n=Ee(),s=cr(r),i=Rt(n,s),i.callback=e??null,lr(r,i,s),t.current.lanes=s,Rs(t,s,n),Ie(t,n),t}function ga(t,e,r,n){var s=e.current,i=Ee(),l=cr(s);return r=Jf(r),e.context===null?e.context=r:e.pendingContext=r,e=Rt(i,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=lr(s,e,l),t!==null&&(ht(t,s,l,i),yi(t,s,l)),l}function Ji(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function td(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Nc(t,e){td(t,e),(t=t.alternate)&&td(t,e)}function Ug(){return null}var Qf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sc(t){this._internalRoot=t}ya.prototype.render=Sc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));ga(t,e,null,null)};ya.prototype.unmount=Sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fr(function(){ga(null,t,null,null)}),e[$t]=null}};function ya(t){this._internalRoot=t}ya.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ch();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Jt.length&&e!==0&&e<Jt[r].priority;r++);Jt.splice(r,0,t),r===0&&Th(t)}};function Cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function va(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rd(){}function $g(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ji(l);i.call(u)}}var l=Zf(e,n,t,0,null,!1,!1,"",rd);return t._reactRootContainer=l,t[$t]=l.current,ws(t.nodeType===8?t.parentNode:t),Fr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Ji(c);o.call(u)}}var c=kc(t,0,!1,null,null,!1,!1,"",rd);return t._reactRootContainer=c,t[$t]=c.current,ws(t.nodeType===8?t.parentNode:t),Fr(function(){ga(e,c,r,n)}),c}function xa(t,e,r,n,s){var i=r._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=Ji(l);o.call(c)}}ga(e,l,t,s)}else l=$g(r,e,t,s,n);return Ji(l)}Nh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Jn(e.pendingLanes);r!==0&&(qo(e,r|1),Ie(e,ne()),!(W&6)&&(Nn=ne()+500,gr()))}break;case 13:Fr(function(){var n=It(t,1);if(n!==null){var s=Ee();ht(n,t,1,s)}}),Nc(t,1)}};Ko=function(t){if(t.tag===13){var e=It(t,134217728);if(e!==null){var r=Ee();ht(e,t,134217728,r)}Nc(t,134217728)}};Sh=function(t){if(t.tag===13){var e=cr(t),r=It(t,e);if(r!==null){var n=Ee();ht(r,t,e,n)}Nc(t,e)}};Ch=function(){return V};Eh=function(t,e){var r=V;try{return V=t,e()}finally{V=r}};Ul=function(t,e,r){switch(e){case"input":if(Cl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ca(n);if(!s)throw Error(N(90));ih(n),Cl(n,s)}}}break;case"textarea":lh(t,r);break;case"select":e=r.value,e!=null&&fn(t,!!r.multiple,e,!1)}};mh=wc;ph=Fr;var Ig={usingClientEntryPoint:!1,Events:[$s,an,ca,hh,fh,wc]},Hn={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lg={bundleType:Hn.bundleType,version:Hn.version,rendererPackageName:Hn.rendererPackageName,rendererConfig:Hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vh(t),t===null?null:t.stateNode},findFiberByHostInstance:Hn.findFiberByHostInstance||Ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ai.isDisabled&&ai.supportsFiber)try{ia=ai.inject(Lg),wt=ai}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig;He.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cc(e))throw Error(N(200));return Rg(t,e,null,r)};He.createRoot=function(t,e){if(!Cc(t))throw Error(N(299));var r=!1,n="",s=Qf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kc(t,1,!1,null,null,r,!1,n,s),t[$t]=e.current,ws(t.nodeType===8?t.parentNode:t),new Sc(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=vh(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return Fr(t)};He.hydrate=function(t,e,r){if(!va(e))throw Error(N(200));return xa(null,t,e,!0,r)};He.hydrateRoot=function(t,e,r){if(!Cc(t))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",l=Qf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=Zf(e,null,t,1,r??null,s,!1,i,l),t[$t]=e.current,ws(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new ya(e)};He.render=function(t,e,r){if(!va(e))throw Error(N(200));return xa(null,t,e,!1,r)};He.unmountComponentAtNode=function(t){if(!va(t))throw Error(N(40));return t._reactRootContainer?(Fr(function(){xa(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};He.unstable_batchedUpdates=wc;He.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!va(r))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return xa(t,e,r,!1,n)};He.version="18.3.1-next-f1338f8080-20240426";function Yf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yf)}catch(t){console.error(t)}}Yf(),Qd.exports=He;var Mg=Qd.exports,nd=Mg;wl.createRoot=nd.createRoot,wl.hydrateRoot=nd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ts.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const sd="popstate";function Dg(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:l,hash:o}=n.location;return mo("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Zi(s)}return Fg(e,r,null,t)}function se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zg(){return Math.random().toString(36).substr(2,8)}function id(t,e){return{usr:t.state,key:t.key,idx:e}}function mo(t,e,r,n){return r===void 0&&(r=null),Ts({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?On(e):e,{state:r,key:e&&e.key||n||zg()})}function Zi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function On(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Fg(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,o=tr.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(Ts({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function d(){o=tr.Pop;let x=h(),g=x==null?null:x-u;u=x,c&&c({action:o,location:b.location,delta:g})}function f(x,g){o=tr.Push;let m=mo(b.location,x,g);u=h()+1;let p=id(m,u),j=b.createHref(m);try{l.pushState(p,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:o,location:b.location,delta:1})}function y(x,g){o=tr.Replace;let m=mo(b.location,x,g);u=h();let p=id(m,u),j=b.createHref(m);l.replaceState(p,"",j),i&&c&&c({action:o,location:b.location,delta:0})}function w(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:Zi(x);return m=m.replace(/ $/,"%20"),se(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let b={get action(){return o},get location(){return t(s,l)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(sd,d),c=x,()=>{s.removeEventListener(sd,d),c=null}},createHref(x){return e(s,x)},createURL:w,encodeLocation(x){let g=w(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:y,go(x){return l.go(x)}};return b}var ad;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ad||(ad={}));function Bg(t,e,r){return r===void 0&&(r="/"),Wg(t,e,r)}function Wg(t,e,r,n){let s=typeof e=="string"?On(e):e,i=Ec(s.pathname||"/",r);if(i==null)return null;let l=em(t);Vg(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=ry(i);o=Xg(l[c],u)}return o}function em(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(se(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=dr([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),em(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Qg(u,i.index),routesMeta:h})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of tm(i.path))s(i,l,c)}),e}function tm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=tm(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Vg(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Yg(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Hg=/^:[\w-]+$/,qg=3,Kg=2,Gg=1,Jg=10,Zg=-2,ld=t=>t==="*";function Qg(t,e){let r=t.split("/"),n=r.length;return r.some(ld)&&(n+=Zg),e&&(n+=Kg),r.filter(s=>!ld(s)).reduce((s,i)=>s+(Hg.test(i)?qg:i===""?Gg:Jg),n)}function Yg(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Xg(t,e,r){let{routesMeta:n}=t,s={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=ey({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:dr([i,d.pathname]),pathnameBase:ay(dr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=dr([i,d.pathnameBase]))}return l}function ey(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ty(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:f,isOptional:y}=h;if(f==="*"){let b=o[d]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=o[d];return y&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:t}}function ty(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function ry(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ec(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ny(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?On(t):t;return{pathname:r?r.startsWith("/")?r:sy(r,e):e,search:ly(n),hash:oy(s)}}function sy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cl(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iy(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Tc(t,e){let r=iy(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Pc(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=On(t):(s=Ts({},t),se(!s.pathname||!s.pathname.includes("?"),cl("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),cl("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),cl("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=r;else{let d=e.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}o=d>=0?e[d]:"/"}let c=ny(s,o),u=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const dr=t=>t.join("/").replace(/\/\/+/g,"/"),ay=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ly=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rm=["post","put","patch","delete"];new Set(rm);const uy=["get",...rm];new Set(uy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ps.apply(this,arguments)}const Ac=v.createContext(null),dy=v.createContext(null),yr=v.createContext(null),wa=v.createContext(null),vr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),nm=v.createContext(null);function hy(t,e){let{relative:r}=e===void 0?{}:e;Rn()||se(!1);let{basename:n,navigator:s}=v.useContext(yr),{hash:i,pathname:l,search:o}=im(t,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:dr([n,l])),s.createHref({pathname:c,search:o,hash:i})}function Rn(){return v.useContext(wa)!=null}function Un(){return Rn()||se(!1),v.useContext(wa).location}function sm(t){v.useContext(yr).static||v.useLayoutEffect(t)}function ja(){let{isDataRoute:t}=v.useContext(vr);return t?Ny():fy()}function fy(){Rn()||se(!1);let t=v.useContext(Ac),{basename:e,future:r,navigator:n}=v.useContext(yr),{matches:s}=v.useContext(vr),{pathname:i}=Un(),l=JSON.stringify(Tc(s,r.v7_relativeSplatPath)),o=v.useRef(!1);return sm(()=>{o.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Pc(u,JSON.parse(l),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:dr([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,l,i,t])}function im(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(yr),{matches:s}=v.useContext(vr),{pathname:i}=Un(),l=JSON.stringify(Tc(s,n.v7_relativeSplatPath));return v.useMemo(()=>Pc(t,JSON.parse(l),i,r==="path"),[t,l,i,r])}function my(t,e){return py(t,e)}function py(t,e,r,n){Rn()||se(!1);let{navigator:s}=v.useContext(yr),{matches:i}=v.useContext(vr),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Un(),h;if(e){var d;let x=typeof e=="string"?On(e):e;c==="/"||(d=x.pathname)!=null&&d.startsWith(c)||se(!1),h=x}else h=u;let f=h.pathname||"/",y=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=Bg(t,{pathname:y}),b=wy(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:dr([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:dr([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return e&&b?v.createElement(wa.Provider,{value:{location:Ps({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:tr.Pop}},b):b}function gy(){let t=ky(),e=cy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:s},r):null,null)}const yy=v.createElement(gy,null);class vy extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(vr.Provider,{value:this.props.routeContext},v.createElement(nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xy(t){let{routeContext:e,match:r,children:n}=t,s=v.useContext(Ac);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(vr.Provider,{value:e},n)}function wy(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=l.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||se(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<l.length;h++){let d=l[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:y}=r,w=d.route.loader&&f[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||w){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,d,f)=>{let y,w=!1,b=null,x=null;r&&(y=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||yy,c&&(u<0&&f===0?(Sy("route-fallback"),w=!0,x=null):u===f&&(w=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(l.slice(0,f+1)),m=()=>{let p;return y?p=b:w?p=x:d.route.Component?p=v.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=h,v.createElement(xy,{match:d,routeContext:{outlet:h,matches:g,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(vy,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var am=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(am||{}),lm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lm||{});function jy(t){let e=v.useContext(Ac);return e||se(!1),e}function by(t){let e=v.useContext(dy);return e||se(!1),e}function _y(t){let e=v.useContext(vr);return e||se(!1),e}function om(t){let e=_y(),r=e.matches[e.matches.length-1];return r.route.id||se(!1),r.route.id}function ky(){var t;let e=v.useContext(nm),r=by(),n=om();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Ny(){let{router:t}=jy(am.UseNavigateStable),e=om(lm.UseNavigateStable),r=v.useRef(!1);return sm(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ps({fromRouteId:e},i)))},[t,e])}const od={};function Sy(t,e,r){od[t]||(od[t]=!0)}function Cy(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cm(t){let{to:e,replace:r,state:n,relative:s}=t;Rn()||se(!1);let{future:i,static:l}=v.useContext(yr),{matches:o}=v.useContext(vr),{pathname:c}=Un(),u=ja(),h=Pc(e,Tc(o,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(h);return v.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function it(t){se(!1)}function Ey(t){let{basename:e="/",children:r=null,location:n,navigationType:s=tr.Pop,navigator:i,static:l=!1,future:o}=t;Rn()&&se(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:l,future:Ps({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=On(n));let{pathname:h="/",search:d="",hash:f="",state:y=null,key:w="default"}=n,b=v.useMemo(()=>{let x=Ec(h,c);return x==null?null:{location:{pathname:x,search:d,hash:f,state:y,key:w},navigationType:s}},[c,h,d,f,y,w,s]);return b==null?null:v.createElement(yr.Provider,{value:u},v.createElement(wa.Provider,{children:r,value:b}))}function Ty(t){let{children:e,location:r}=t;return my(po(e),r)}new Promise(()=>{});function po(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,s)=>{if(!v.isValidElement(n))return;let i=[...e,s];if(n.type===v.Fragment){r.push.apply(r,po(n.props.children,i));return}n.type!==it&&se(!1),!n.props.index||!n.props.children||se(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=po(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},go.apply(this,arguments)}function Py(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Ay(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Oy(t,e){return t.button===0&&(!e||e==="_self")&&!Ay(t)}const Ry=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uy="6";try{window.__reactRouterVersion=Uy}catch{}const $y="startTransition",cd=Cp[$y];function Iy(t){let{basename:e,children:r,future:n,window:s}=t,i=v.useRef();i.current==null&&(i.current=Dg({window:s,v5Compat:!0}));let l=i.current,[o,c]=v.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=v.useCallback(d=>{u&&cd?cd(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>l.listen(h),[l,h]),v.useEffect(()=>Cy(n),[n]),v.createElement(Ey,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const Ly=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",My=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dy=v.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,f=Py(e,Ry),{basename:y}=v.useContext(yr),w,b=!1;if(typeof u=="string"&&My.test(u)&&(w=u,Ly))try{let p=new URL(window.location.href),j=u.startsWith("//")?new URL(p.protocol+u):new URL(u),k=Ec(j.pathname,y);j.origin===p.origin&&k!=null?u=k+j.search+j.hash:b=!0}catch{}let x=hy(u,{relative:s}),g=zy(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:d});function m(p){n&&n(p),p.defaultPrevented||g(p)}return v.createElement("a",go({},f,{href:w||x,onClick:b||i?n:m,ref:r,target:c}))});var ud;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ud||(ud={}));var dd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dd||(dd={}));function zy(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o}=e===void 0?{}:e,c=ja(),u=Un(),h=im(t,{relative:l});return v.useCallback(d=>{if(Oy(d,r)){d.preventDefault();let f=n!==void 0?n:Zi(u)===Zi(h);c(t,{replace:f,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,h,n,s,r,t,i,l,o])}let Fy={data:""},By=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Fy,Wy=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vy=/\/\*[^]*?\*\/|  +/g,hd=/\n+/g,Qt=(t,e)=>{let r="",n="",s="";for(let i in t){let l=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":n+=i[1]=="f"?Qt(l,i):i+"{"+Qt(l,i[1]=="k"?"":e)+"}":typeof l=="object"?n+=Qt(l,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Qt.p?Qt.p(i,l):i+":"+l+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Nt={},um=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+um(t[r]);return e}return t},Hy=(t,e,r,n,s)=>{let i=um(t),l=Nt[i]||(Nt[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!Nt[l]){let c=i!==t?t:(u=>{let h,d,f=[{}];for(;h=Wy.exec(u.replace(Vy,""));)h[4]?f.shift():h[3]?(d=h[3].replace(hd," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(hd," ").trim();return f[0]})(t);Nt[l]=Qt(s?{["@keyframes "+l]:c}:c,r?"":"."+l)}let o=r&&Nt.g?Nt.g:null;return r&&(Nt.g=Nt[l]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(Nt[l],e,n,o),l},qy=(t,e,r)=>t.reduce((n,s,i)=>{let l=e[i];if(l&&l.call){let o=l(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Qt(o,""):o===!1?"":o}return n+s+(l??"")},"");function ba(t){let e=this||{},r=t.call?t(e.p):t;return Hy(r.unshift?r.raw?qy(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,By(e.target),e.g,e.o,e.k)}let dm,yo,vo;ba.bind({g:1});let Mt=ba.bind({k:1});function Ky(t,e,r,n){Qt.p=e,dm=t,yo=r,vo=n}function xr(t,e){let r=this||{};return function(){let n=arguments;function s(i,l){let o=Object.assign({},i),c=o.className||s.className;r.p=Object.assign({theme:yo&&yo()},o),r.o=/ *go\d+/.test(c),o.className=ba.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),vo&&u[0]&&vo(o),dm(u,o)}return s}}var Gy=t=>typeof t=="function",Qi=(t,e)=>Gy(t)?t(e):t,Jy=(()=>{let t=0;return()=>(++t).toString()})(),hm=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Zy=20,Oc="default",fm=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return fm(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},ki=[],mm={toasts:[],pausedAt:void 0,settings:{toastLimit:Zy}},xt={},pm=(t,e=Oc)=>{xt[e]=fm(xt[e]||mm,t),ki.forEach(([r,n])=>{r===e&&n(xt[e])})},gm=t=>Object.keys(xt).forEach(e=>pm(t,e)),Qy=t=>Object.keys(xt).find(e=>xt[e].toasts.some(r=>r.id===t)),_a=(t=Oc)=>e=>{pm(e,t)},Yy={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xy=(t={},e=Oc)=>{let[r,n]=v.useState(xt[e]||mm),s=v.useRef(xt[e]);v.useEffect(()=>(s.current!==xt[e]&&n(xt[e]),ki.push([e,n]),()=>{let l=ki.findIndex(([o])=>o===e);l>-1&&ki.splice(l,1)}),[e]);let i=r.toasts.map(l=>{var o,c,u;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((o=t[l.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((c=t[l.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Yy[l.type],style:{...t.style,...(u=t[l.type])==null?void 0:u.style,...l.style}}});return{...r,toasts:i}},ev=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Jy()}),Ls=t=>(e,r)=>{let n=ev(e,t,r);return _a(n.toasterId||Qy(n.id))({type:2,toast:n}),n.id},de=(t,e)=>Ls("blank")(t,e);de.error=Ls("error");de.success=Ls("success");de.loading=Ls("loading");de.custom=Ls("custom");de.dismiss=(t,e)=>{let r={type:3,toastId:t};e?_a(e)(r):gm(r)};de.dismissAll=t=>de.dismiss(void 0,t);de.remove=(t,e)=>{let r={type:4,toastId:t};e?_a(e)(r):gm(r)};de.removeAll=t=>de.remove(void 0,t);de.promise=(t,e,r)=>{let n=de.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Qi(e.success,s):void 0;return i?de.success(i,{id:n,...r,...r==null?void 0:r.success}):de.dismiss(n),s}).catch(s=>{let i=e.error?Qi(e.error,s):void 0;i?de.error(i,{id:n,...r,...r==null?void 0:r.error}):de.dismiss(n)}),t};var tv=1e3,rv=(t,e="default")=>{let{toasts:r,pausedAt:n}=Xy(t,e),s=v.useRef(new Map).current,i=v.useCallback((d,f=tv)=>{if(s.has(d))return;let y=setTimeout(()=>{s.delete(d),l({type:4,toastId:d})},f);s.set(d,y)},[]);v.useEffect(()=>{if(n)return;let d=Date.now(),f=r.map(y=>{if(y.duration===1/0)return;let w=(y.duration||0)+y.pauseDuration-(d-y.createdAt);if(w<0){y.visible&&de.dismiss(y.id);return}return setTimeout(()=>de.dismiss(y.id,e),w)});return()=>{f.forEach(y=>y&&clearTimeout(y))}},[r,n,e]);let l=v.useCallback(_a(e),[e]),o=v.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=v.useCallback((d,f)=>{l({type:1,toast:{id:d,height:f}})},[l]),u=v.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),h=v.useCallback((d,f)=>{let{reverseOrder:y=!1,gutter:w=8,defaultPosition:b}=f||{},x=r.filter(p=>(p.position||b)===(d.position||b)&&p.height),g=x.findIndex(p=>p.id===d.id),m=x.filter((p,j)=>j<g&&p.visible).length;return x.filter(p=>p.visible).slice(...y?[m+1]:[0,m]).reduce((p,j)=>p+(j.height||0)+w,0)},[r]);return v.useEffect(()=>{r.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let f=s.get(d.id);f&&(clearTimeout(f),s.delete(d.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:h}}},nv=Mt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sv=Mt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iv=Mt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,av=xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${iv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lv=Mt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ov=xr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lv} 1s linear infinite;
`,cv=Mt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uv=Mt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dv=xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hv=xr("div")`
  position: absolute;
`,fv=xr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mv=Mt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pv=xr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gv=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(pv,null,e):e:r==="blank"?null:v.createElement(fv,null,v.createElement(ov,{...n}),r!=="loading"&&v.createElement(hv,null,r==="error"?v.createElement(av,{...n}):v.createElement(dv,{...n})))},yv=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vv=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,xv="0%{opacity:0;} 100%{opacity:1;}",wv="0%{opacity:1;} 100%{opacity:0;}",jv=xr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bv=xr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_v=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=hm()?[xv,wv]:[yv(r),vv(r)];return{animation:e?`${Mt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kv=v.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?_v(t.position||e||"top-center",t.visible):{opacity:0},i=v.createElement(gv,{toast:t}),l=v.createElement(bv,{...t.ariaProps},Qi(t.message,t));return v.createElement(jv,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:l}):v.createElement(v.Fragment,null,i,l))});Ky(v.createElement);var Nv=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=v.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:i,className:e,style:r},s)},Sv=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:hm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},Cv=ba`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,li=16,Ev=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:u}=rv(r,i);return v.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:li,left:li,right:li,bottom:li,pointerEvents:"none",...l},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let d=h.position||e,f=u.calculateOffset(h,{reverseOrder:t,gutter:n,defaultPosition:e}),y=Sv(d,f);return v.createElement(Nv,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?Cv:"",style:y},h.type==="custom"?Qi(h.message,h):s?s(h):v.createElement(kv,{toast:h,position:d}))}))},st=de;const Tv="modulepreload",Pv=function(t){return"/"+t},fd={},Ms=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Pv(c),c in fd)return;fd[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Tv,u||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,y)=>{d.addEventListener("load",f),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Av=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>$n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Rc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Ov extends Rc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class md extends Rc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class pd extends Rc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xo||(xo={}));var Rv=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Uv{constructor(e,{headers:r={},customFetch:n,region:s=xo.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Av(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Rv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(o["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(o["Content-Type"]="application/json",h=JSON.stringify(l)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:h}).catch(b=>{throw new Ov(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new md(d);if(!d.ok)throw new pd(d);let y=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield d.json():y==="application/octet-stream"?w=yield d.blob():y==="text/event-stream"?w=d:y==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof pd||s instanceof md?s.context:void 0}}})}}var Oe={},Uc={},ka={},Ds={},Na={},Sa={},$v=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sn=$v();const Iv=Sn.fetch,ym=Sn.fetch.bind(Sn),vm=Sn.Headers,Lv=Sn.Request,Mv=Sn.Response,$n=Object.freeze(Object.defineProperty({__proto__:null,Headers:vm,Request:Lv,Response:Mv,default:ym,fetch:Iv},Symbol.toStringTag,{value:"Module"})),Dv=dp($n);var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});let zv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ca.default=zv;var xm=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sa,"__esModule",{value:!0});const Fv=xm(Dv),Bv=xm(Ca);let Wv=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Fv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c,u;let h=null,d=null,f=null,y=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?d=m:d=JSON.parse(m))}const x=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");x&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(h={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,y=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{h=JSON.parse(x),Array.isArray(h)&&i.status===404&&(d=[],h=null,y=200,w="OK")}catch{i.status===404&&x===""?(y=204,w="No Content"):h={message:x}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,y=200,w="OK"),h&&this.shouldThrowOnError)throw new Bv.default(h)}return{error:h,data:d,count:f,status:y,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Sa.default=Wv;var Vv=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});const Hv=Vv(Sa);let qv=class extends Hv.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(l,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:l="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Na.default=qv;var Kv=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ds,"__esModule",{value:!0});const Gv=Kv(Na);let Jv=class extends Gv.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${l}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Ds.default=Jv;var Zv=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ka,"__esModule",{value:!0});const qn=Zv(Ds);let Qv=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new qn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new qn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new qn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new qn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ka.default=Qv;var wm=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uc,"__esModule",{value:!0});const Yv=wm(ka),Xv=wm(Ds);let ex=class jm{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Yv.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(o="POST",u=r);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new Xv.default({method:o,url:c,headers:h,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Uc.default=ex;var In=Xe&&Xe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const bm=In(Uc);Oe.PostgrestClient=bm.default;const _m=In(ka);Oe.PostgrestQueryBuilder=_m.default;const km=In(Ds);Oe.PostgrestFilterBuilder=km.default;const Nm=In(Na);Oe.PostgrestTransformBuilder=Nm.default;const Sm=In(Sa);Oe.PostgrestBuilder=Sm.default;const Cm=In(Ca);Oe.PostgrestError=Cm.default;var tx=Oe.default={PostgrestClient:bm.default,PostgrestQueryBuilder:_m.default,PostgrestFilterBuilder:km.default,PostgrestTransformBuilder:Nm.default,PostgrestBuilder:Sm.default,PostgrestError:Cm.default};const{PostgrestClient:rx,PostgrestQueryBuilder:Iw,PostgrestFilterBuilder:Lw,PostgrestTransformBuilder:Mw,PostgrestBuilder:Dw,PostgrestError:zw}=tx;class nx{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sx="2.15.1",ix=`realtime-js/${sx}`,ax="1.0.0",wo=1e4,lx=1e3,ox=100;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ct||(ct={}));var jo;(function(t){t.websocket="websocket"})(jo||(jo={}));var Ar;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ar||(Ar={}));class cx{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const u=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class Em{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const gd=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,l)=>(i[l]=ux(l,t,e,s),i),{})},ux=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,l=r[t];return i&&!n.includes(i)?Tm(i,l):bo(l)},Tm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return mx(e,r)}switch(t){case q.bool:return dx(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return hx(e);case q.json:case q.jsonb:return fx(e);case q.timestamp:return px(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return bo(e);default:return bo(e)}},bo=t=>t,dx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},hx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},fx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},mx=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>Tm(e,o))}return t},px=t=>typeof t=="string"?t.replace(" ","T"):t,Pm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ul{constructor(e,r,n={},s=wo){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yd||(yd={}));class cs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,s,i,l),this.pendingDiffs.forEach(c=>{this.state=cs.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=cs.syncDiff(this.state,s,i,l),o())}),this.onJoin((s,i,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:l})}),this.onLeave((s,i,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),l=this.transformState(r),o={},c={};return this.map(i,(u,h)=>{l[u]||(c[u]=h)}),this.map(l,(u,h)=>{const d=i[u];if(d){const f=h.map(x=>x.presence_ref),y=d.map(x=>x.presence_ref),w=h.filter(x=>y.indexOf(x.presence_ref)<0),b=d.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(o[u]=w),b.length>0&&(c[u]=b)}else o[u]=h}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const h=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(c),h.length>0){const d=e[o].map(y=>y.presence_ref),f=h.filter(y=>d.indexOf(y.presence_ref)<0);e[o].unshift(...f)}n(o,h,c)}),this.map(l,(o,c)=>{let u=e[o];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[o]=u,s(o,u,c),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vd;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vd||(vd={}));var us;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(us||(us={}));var Et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class $c{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ul(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Em(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new cs(this),this.broadcastEndpointURL=Pm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:i,presence:l,private:o}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[us.PRESENCE]&&this.bindings[us.PRESENCE].length>0,h={},d={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(Et.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Et.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){e==null||e(Et.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,x=[];for(let g=0;g<b;g++){const m=w[g],{filter:{event:p,schema:j,table:k,filter:S}}=m,C=f&&f[g];if(C&&C.event===p&&C.schema===j&&C.table===k&&C.filter===S)x.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Et.SUBSCRIBED);return}}).receive("error",f=>{this.state=oe.errored,e==null||e(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:l}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ul(this,ct.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ul(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ox){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const l=e.toLocaleLowerCase(),{close:o,error:c,leave:u,join:h}=ct;if(n&&[o,c,u,h].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,b,x;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(b=y.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(y=>y.callback(f,n)):(i=this.bindings[l])===null||i===void 0||i.filter(y=>{var w,b,x,g,m,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const j=y.id,k=(w=y.filter)===null||w===void 0?void 0:w.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(m=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:b,table:x,commit_timestamp:g,type:m,errors:p}=w;f=Object.assign(Object.assign({},{schema:b,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(w))}y.callback(f,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$c.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ct.close,{},e)}_onError(e){this._on(ct.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gd(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gd(e.columns,e.old_record)),r}}const xd=()=>{},oi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gx=[1e3,2e3,5e3,1e4],yx=1e4,vx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xx{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wo,this.transport=null,this.heartbeatIntervalMs=oi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new cx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>Ms(async()=>{const{default:o}=await Promise.resolve().then(()=>$n);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${jo.websocket}`,this.httpEndpoint=Pm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ax}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Ar.Connecting;case os.open:return Ar.Open;case os.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new $c(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,l=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},oi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:l}=r,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ct.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([vx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:ix};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ct.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Em(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,l,o,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:wo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:oi.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=e==null?void 0:e.reconnectAfterMs)!==null&&o!==void 0?o:h=>gx[h-1]||yx,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,d)=>d(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ic extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wx extends Ic{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _o extends Ic{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var jx=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Am=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>$n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},bx=()=>jx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ms(()=>Promise.resolve().then(()=>$n),void 0)).Response:Response}),ko=t=>{if(Array.isArray(t))return t.map(r=>ko(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ko(n)}),e},_x=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Vr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const dl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kx=(t,e,r)=>Vr(void 0,void 0,void 0,function*(){const n=yield bx();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,l=(s==null?void 0:s.statusCode)||i+"";e(new wx(dl(s),i,l))}).catch(s=>{e(new _o(dl(s),s))}):e(new _o(dl(t),t))}),Nx=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(_x(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function zs(t,e,r,n,s,i){return Vr(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(r,Nx(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>kx(c,o,n))})})}function Yi(t,e,r,n){return Vr(this,void 0,void 0,function*(){return zs(t,"GET",e,r,n)})}function yt(t,e,r,n,s){return Vr(this,void 0,void 0,function*(){return zs(t,"POST",e,n,s,r)})}function No(t,e,r,n,s){return Vr(this,void 0,void 0,function*(){return zs(t,"PUT",e,n,s,r)})}function Sx(t,e,r,n){return Vr(this,void 0,void 0,function*(){return zs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Om(t,e,r,n,s){return Vr(this,void 0,void 0,function*(){return zs(t,"DELETE",e,n,s,r)})}var Se=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const Cx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ex{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Am(s)}uploadOrUpdate(e,r,n,s){return Se(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},wd),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),d=yield(e=="PUT"?No:yt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:wd.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield No(this.fetch,o.toString(),c,{headers:h});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield yt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Ic("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:o},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(e,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield yt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield yt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Se(this,void 0,void 0,function*(){try{const s=yield yt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(e,r){return Se(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Yi(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}info(e){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Yi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ko(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(e){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Sx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof _o){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Se(this,void 0,void 0,function*(){try{return{data:yield Om(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(e,r,n){return Se(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cx),r),{prefix:e||""});return{data:yield yt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}listV2(e,r){return Se(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield yt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Tx="2.11.0",Px={"X-Client-Info":`storage-js/${Tx}`};var Kr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class Ax{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Px),r),this.fetch=Am(n)}listBuckets(){return Kr(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ce(e))return{data:null,error:e};throw e}})}getBucket(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield Yi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Kr(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Kr(this,void 0,void 0,function*(){try{return{data:yield No(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield yt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Kr(this,void 0,void 0,function*(){try{return{data:yield Om(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class Ox extends Ax{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Ex(this.url,this.headers,e,this.fetch)}}const Rx="2.56.0";let Qn="";typeof Deno<"u"?Qn="deno":typeof document<"u"?Qn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qn="react-native":Qn="node";const Ux={"X-Client-Info":`supabase-js-${Qn}/${Rx}`},$x={headers:Ux},Ix={schema:"public"},Lx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mx={};var Dx=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};const zx=t=>{let e;return t?e=t:typeof fetch>"u"?e=ym:e=fetch,(...r)=>e(...r)},Fx=()=>typeof Headers>"u"?vm:Headers,Bx=(t,e,r)=>{const n=zx(r),s=Fx();return(i,l)=>Dx(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:u}))})};var Wx=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};function Vx(t){return t.endsWith("/")?t:t+"/"}function Hx(t,e){var r,n;const{db:s,auth:i,realtime:l,global:o}=t,{db:c,auth:u,realtime:h,global:d}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Wx(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Rm="2.71.1",Yr=30*1e3,So=3,hl=So*Yr,qx="http://localhost:9999",Kx="supabase.auth.token",Gx={"X-Client-Info":`gotrue-js/${Rm}`},Co="X-Supabase-Api-Version",Um={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zx=10*60*1e3;class Lc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Qx extends Lc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yx(t){return M(t)&&t.name==="AuthApiError"}class $m extends Lc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wr extends Lc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ht extends wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xx(t){return M(t)&&t.name==="AuthSessionMissingError"}class ci extends wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ui extends wr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class di extends wr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e1(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class jd extends wr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eo extends wr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function fl(t){return M(t)&&t.name==="AuthRetryableFetchError"}class bd extends wr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class To extends wr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_d=` 	
\r=`.split(""),t1=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_d.length;e+=1)t[_d[e].charCodeAt(0)]=-2;for(let e=0;e<Xi.length;e+=1)t[Xi[e].charCodeAt(0)]=e;return t})();function kd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Xi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Xi[n]),e.queuedBits-=6}}function Im(t,e,r){const n=t1[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Nd(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=l=>{s1(l,n,r)};for(let l=0;l<t.length;l+=1)Im(t.charCodeAt(l),s,i);return e.join("")}function r1(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function n1(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}r1(n,e)}}function s1(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function i1(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Im(t.charCodeAt(s),r,n);return new Uint8Array(e)}function a1(t){const e=[];return n1(t,r=>e.push(r)),new Uint8Array(e)}function l1(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>kd(s,r,n)),kd(null,r,n),e.join("")}function o1(t){return Math.round(Date.now()/1e3)+t}function c1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",Sr={tested:!1,writable:!1},Lm=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sr.tested)return Sr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sr.tested=!0,Sr.writable=!0}catch{Sr.tested=!0,Sr.writable=!1}return Sr.writable};function u1(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Mm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ms(async()=>{const{default:n}=await Promise.resolve().then(()=>$n);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},d1=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Cr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bt=async(t,e)=>{await t.removeItem(e)};class Ea{constructor(){this.promise=new Ea.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ea.promiseConstructor=Promise;function ml(t){const e=t.split(".");if(e.length!==3)throw new To("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Jx.test(e[n]))throw new To("JWT not in base64url format");return{header:JSON.parse(Nd(e[0])),payload:JSON.parse(Nd(e[1])),signature:i1(e[2]),raw:{header:e[0],payload:e[1]}}}async function h1(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function f1(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!e(i,null,l)){n(l);return}}catch(l){if(!e(i,l)){s(l);return}}})()})}function m1(t){return("0"+t.toString(16)).substr(-2)}function p1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,m1).join("")}async function g1(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function y1(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await g1(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gr(t,e,r=!1){const n=p1();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xr(t,`${e}-code-verifier`,s);const i=await y1(n);return[i,n===i?"plain":"s256"]}const v1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function x1(t){const e=t.headers.get(Co);if(!e||!e.match(v1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function w1(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function j1(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jr(t){if(!b1.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pl(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sd(t){return JSON.parse(JSON.stringify(t))}var _1=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Pr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),k1=[502,503,504];async function Cd(t){var e;if(!d1(t))throw new Eo(Pr(t),0);if(k1.includes(t.status))throw new Eo(Pr(t),t.status);let r;try{r=await t.json()}catch(i){throw new $m(Pr(i),i)}let n;const s=x1(t);if(s&&s.getTime()>=Um["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bd(Pr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new bd(Pr(r),t.status,r.weak_password.reasons);throw new Qx(Pr(r),t.status||500,n)}const N1=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Co]||(i[Co]=Um["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await S1(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function S1(t,e,r,n,s,i){const l=N1(e,n,s,i);let o;try{o=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new Eo(Pr(c),0)}if(o.ok||await Cd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Cd(c)}}function St(t){var e;let r=null;P1(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=o1(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Ed(t){const e=St(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function C1(t){return{data:t,error:null}}function E1(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,l=_1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function T1(t){return t}function P1(t){return t.access_token&&t.refresh_token&&t.expires_in}const gl=["global","local","others"];var A1=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class O1{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Mm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=gl[0]){if(gl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gl.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=A1(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:E1,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},h=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:T1});if(h.error)throw h.error;const d=await h.json(),f=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Jr(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Jr(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Yt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Jr(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Jr(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Jr(e.userId),Jr(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function Td(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function R1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zr={debug:!!(globalThis&&Lm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class U1 extends Dm{}async function $1(t,e,r){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Zr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new U1(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}R1();const I1={url:qx,storageKey:Kx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pd(t,e,r){return await r()}const Qr={};class As{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=As.nextInstanceID,As.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},I1),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new O1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Mm(s.fetch),this.lock=s.lock||Pd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:at()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$1:this.lock=Pd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Lm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Td(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Td(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Qr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Qr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=u1(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),at()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),e1(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new $m("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:St}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:d,options:f}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Gr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:St})}else if("phone"in e){const{phone:h,password:d,options:f}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:St})}else throw new ui("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:l,options:o}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ed})}else if("phone"in e){const{phone:i,password:l,options:o}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ed})}else throw new ui("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ci}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,l,o,c,u,h,d,f,y;let w,b;if("message"in e)w=e.message,b=e.signature;else{const{chain:x,wallet:g,statement:m,options:p}=e;let j;if(at())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const k=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),b=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(h=p==null?void 0:p.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:x,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:l1(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:St});if(g)throw g;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ci}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:g})}catch(x){if(M(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(e){const r=await Cr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:l}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:St});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ci}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:l})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:l}=e,o=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:St}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ci}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,l;try{if("email"in e){const{email:o,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Gr(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:c}=e,{data:u,error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new ui("You must provide either an email or phone number.")}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:St});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Gr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:C1})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ht;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:l,error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new ui("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await Cr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=pl()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yt}):await this._useSession(async r=>{var n,s,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yt})})}catch(r){if(M(r))return Xx(r)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ht;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Gr(this.storage,this.storageKey));const{data:u,error:h}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Yt});if(h)throw h;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ht;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:l}=ml(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:o}=r;if(o)throw o;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ht;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!at())throw new di("No browser detected.");if(e.error||e.error_description||e.error_code)throw new di(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new di("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new jd("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=e;if(!i||!o||!l||!u)throw new di("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(o);let f=h+d;c&&(f=parseInt(c));const y=f-h;y*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${d}s`);const w=f-d;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,h);const{data:b,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Cr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,e);if(o&&!(Yx(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=c1(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Gr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var l,o,c,u,h;const{data:d,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return at()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)throw l;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await f1(async s=>(s>0&&await h1(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:St})),(s,i)=>{const l=200*Math.pow(2,s);return i&&fl(i)&&Date.now()+l-n<Yr})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),at()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Cr(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Xr(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:pl()}else if(s&&!s.user&&!s.user){const l=await Cr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Bt(this.storage,this.storageKey+"-user"),await Xr(this.storage,this.storageKey,s)):s.user=pl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),fl(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ea;const{data:i,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!i.session)throw new Ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),M(i)){const l={session:null,error:i};return fl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Sd(s);await Xr(this.storage,this.storageKey,i)}else{const s=Sd(r);await Xr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yr}ms, refresh threshold is ${So} ticks`),s<=So&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await Gr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ml(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Zx>s)return n;const{data:i,error:l}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:l,raw:{header:o,payload:c}}=ml(n);r!=null&&r.allowExpired||w1(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:l},error:null}}const h=j1(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,l,a1(`${o}.${c}`)))throw new To("Invalid JWT signature");return{data:{claims:i,header:s,signature:l},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}As.nextInstanceID=0;const L1=As;class M1 extends L1{constructor(e){super(e)}}var D1=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(h){try{u(n.next(h))}catch(d){l(d)}}function c(h){try{u(n.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};class z1{constructor(e,r,n){var s,i,l;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Vx(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:Ix,realtime:Mx,auth:Object.assign(Object.assign({},Lx),{storageKey:u}),global:$x},d=Hx(n??{},h);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=d.auth)!==null&&l!==void 0?l:{},this.headers,d.global.fetch),this.fetch=Bx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new rx(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ox(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Uv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return D1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:l,lock:o,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M1({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xx(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zm=(t,e,r)=>new z1(t,e,r);function F1(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}F1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fm="https://ijsktwmevnqgzwwuggkf.supabase.co",B1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlqc2t0d21ldm5xZ3p3d3VnZ2tmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MDU4MTYsImV4cCI6MjA2NjI4MTgxNn0.w4eBL4hOZoAOo33ZXX-lSqQmIuSoP3fBEO1lBlpIRNw",W1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlqc2t0d21ldm5xZ3p3d3VnZ2tmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDcwNTgxNiwiZXhwIjoyMDY2MjgxODE2fQ.3F4KHZ1CTAKvujWNb8G5usPDvKNxhOqGV_-uwGXiAZ4",F=zm(Fm,B1),Yn=zm(Fm,W1);class V1{constructor(){Ia(this,"currentUser",null);Ia(this,"authState",{user:null,isAuthenticated:!1,isLoading:!0,error:null})}async init(){try{const e=await this.getCurrentSession();return e&&await this.fetchCurrentUser(e.email),this.authState.isLoading=!1,this.authState}catch{return this.authState.isLoading=!1,this.authState.error="Failed to initialize authentication",this.authState}}getCurrentSession(){const e=localStorage.getItem("ontimely_staff_session");if(e)try{return JSON.parse(e)}catch{return localStorage.removeItem("ontimely_staff_session"),null}return null}storeSession(e,r){localStorage.setItem("ontimely_staff_session",JSON.stringify({email:e,token:r}))}clearSession(){localStorage.removeItem("ontimely_staff_session")}async login(e){try{console.log(" STAFF AUTH: Login attempt for:",e.email),this.authState.isLoading=!0,this.authState.error=null;const{data:r,error:n}=await F.from("ontimely_staff").select("*").eq("email",e.email).eq("is_active",!0).single();if(console.log(" STAFF AUTH: Database query result:",{staffMember:r,staffError:n}),n||!r)throw new Error("Invalid credentials or account not found");if(r.password_hash!==e.password)throw console.log(" STAFF AUTH: Password check failed:",{entered:e.password,stored:r.password_hash}),new Error("Invalid password");await F.from("ontimely_staff").update({last_login:new Date().toISOString()}).eq("id",r.id);const s=this.generateSimpleToken(r.email);return this.storeSession(r.email,s),this.currentUser=r,this.authState.user=r,this.authState.isAuthenticated=!0,this.authState.isLoading=!1,console.log(" STAFF AUTH: Login successful!",{user:r,authState:this.authState,session:this.getCurrentSession()}),this.authState}catch(r){return this.authState.error=r instanceof Error?r.message:"Login failed",this.authState.isLoading=!1,this.authState.isAuthenticated=!1,this.authState}}async logout(){return this.clearSession(),this.currentUser=null,this.authState={user:null,isAuthenticated:!1,isLoading:!1,error:null},this.authState}async getCurrentUser(){if(this.currentUser)return this.currentUser;const e=this.getCurrentSession();return e?(await this.fetchCurrentUser(e.email),this.currentUser):null}async fetchCurrentUser(e){try{const{data:r,error:n}=await F.from("ontimely_staff").select("*").eq("email",e).eq("is_active",!0).single();if(n||!r){this.clearSession();return}this.currentUser=r,this.authState.user=r,this.authState.isAuthenticated=!0}catch{this.clearSession()}}hasRole(e){if(!this.currentUser)return!1;const r={director:3,admin:2,staff:1};return r[this.currentUser.role]>=r[e]}isDirector(){return this.hasRole("director")}isAdmin(){return this.hasRole("admin")}isStaff(){return this.hasRole("staff")}generateSimpleToken(e){return btoa(`${e}:${Date.now()}`)}getAuthState(){return{...this.authState}}isAuthenticated(){return this.authState.isAuthenticated}}const Cn=new V1;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(t,e)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},h)=>v.createElement("svg",{ref:h,...H1,width:s,height:s,stroke:n,strokeWidth:l?Number(i)*24/Number(s):i,className:["lucide",`lucide-${q1(t)}`,o].join(" "),...u},[...e.map(([d,f])=>v.createElement(d,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=R("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=R("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=R("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=R("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=R("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=R("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=R("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=R("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=R("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=R("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=R("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=R("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=R("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=R("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=R("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=R("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=R("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=R("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=R("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=R("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=R("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=R("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=R("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=R("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=R("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=R("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=R("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=R("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=R("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=R("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=R("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=R("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=R("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=R("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=R("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),mw=()=>{const t=ja(),[e,r]=v.useState({email:"",password:""}),[n,s]=v.useState(!1),[i,l]=v.useState(!1),[o,c]=v.useState(null);v.useEffect(()=>{(async()=>{(await Cn.init()).isAuthenticated&&t("/dashboard")})()},[t]);const u=async d=>{d.preventDefault(),l(!0),c(null);try{const f=await Cn.login(e);f.isAuthenticated?t("/dashboard"):c(f.error||"Login failed")}catch{c("An unexpected error occurred")}finally{l(!1)}},h=d=>{r(f=>({...f,[d.target.name]:d.target.value}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ud,{className:"h-8 w-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Staff Portal"}),a.jsx("p",{className:"text-gray-600",children:"Sign in to access the OnTimely management portal"})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(iw,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"Enter your email"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ud,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:h,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?a.jsx(X1,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(Bm,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),o&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-red-600",children:o})}),a.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:i?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Need help? Contact your administrator"})})]}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:" 2024 OnTimely. All rights reserved."})})]})})},xl={async createUserWithAuth(t){try{console.log("Starting user creation for:",t.email);let e=null;if(t.company_id)try{const{data:l}=await Yn.from("companies").select("name").eq("id",t.company_id).single();e=l==null?void 0:l.name}catch(l){console.warn("Could not fetch company name:",l)}console.log("Creating Supabase Auth user...");const r=async(l=0)=>{var o;try{const{data:c,error:u}=await Yn.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name,company_id:t.company_id,role:t.role||"user",status:t.status||"offline"},emailRedirectTo:"https://dashboard.ontimely.co.uk/confirm-account.html"}});if(u){if(console.error(" SUPABASE AUTH ERROR:",{message:u.message,status:u.status,details:u}),u.message.includes("For security purposes, you can only request this after")&&l<3){const h=Math.pow(2,l)*1e3+5e3;return console.log(`Rate limited, waiting ${h}ms before retry ${l+1}/3...`),await new Promise(d=>setTimeout(d,h)),r(l+1)}throw u}return{data:c,error:null}}catch(c){if(l<3&&c instanceof Error&&((o=c.message)!=null&&o.includes("For security purposes, you can only request this after"))){const u=Math.pow(2,l)*1e3+5e3;return console.log(`Rate limited, waiting ${u}ms before retry ${l+1}/3...`),await new Promise(h=>setTimeout(h,u)),r(l+1)}throw c}},{data:n}=await r();if(!n.user)throw new Error("Supabase Auth user creation succeeded but no user data returned");console.log("Supabase Auth user created successfully:",n.user.id);const{data:s,error:i}=await Yn.from("users").insert([{id:n.user.id,email:t.email,name:t.name,company_id:t.company_id,role:t.role||"user",status:t.status||"offline",avatar:"",company_name:e,avatar_url:null,description:null,company_role:null}]).select().single();if(i){console.error("Profile creation failed:",i);try{await Yn.auth.admin.deleteUser(n.user.id),console.log("Cleaned up Supabase Auth user after profile creation failure")}catch(l){console.warn("Failed to clean up Supabase Auth user:",l)}throw i}console.log("User profile created successfully with matching ID:",s.id);try{await this.sendWelcomeEmailViaSupabase({email:t.email,name:t.name,temporaryPassword:t.password,companyName:e})}catch(l){console.warn("Email sending failed, but user was created successfully:",l)}return{profile:s,auth:n.user}}catch(e){throw console.error("Error creating user with auth:",e),e}},async sendWelcomeEmailViaSupabase(t){console.log(" STARTING EMAIL SEND PROCESS:",{email:t.email,name:t.name,companyName:t.companyName});try{const e=`https://dashboard.ontimely.co.uk/set-initial-password?token=${encodeURIComponent(t.email)}&type=signup`;console.log(" CONFIRMATION URL:",e),console.log(" CALLING Edge Function for email...");const r=await fetch("https://portal.ontimely.co.uk/api/send-account-confirmation-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,name:t.name,companyName:t.companyName,confirmationUrl:e})});if(!r.ok){const s=await r.json();throw new Error(`Edge Function failed: ${s.error||r.statusText}`)}const n=await r.json();console.log(" Edge Function email result:",n),console.log(` Professional confirmation email sent successfully to ${t.email} via Edge Function`)}catch(e){console.error(" Error sending confirmation email via Edge Function:",e),console.error(" ERROR DETAILS:",{message:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:"No stack trace",name:e instanceof Error?e.name:"Unknown error type"});try{console.log(" TRYING FALLBACK EMAIL via Edge Function...");const r=`https://dashboard.ontimely.co.uk/confirm-account.html?token=${encodeURIComponent(t.email)}&type=signup`,n=await fetch("https://portal.ontimely.co.uk/api/send-account-confirmation-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,name:t.name,companyName:t.companyName,confirmationUrl:r})});if(!n.ok){const i=await n.json();throw new Error(`Fallback Edge Function failed: ${i.error||n.statusText}`)}const s=await n.json();console.log(" Fallback Edge Function email result:",s)}catch(r){console.error(" Fallback email also failed:",r)}}},async bulkCreateUsersWithAuth(t){try{const e=[];for(const r of t)try{const n=this.generateTemporaryPassword(),s=await this.createUserWithAuth({...r,password:n});e.push(s)}catch(n){console.error(`Failed to create user ${r.email}:`,n)}return e}catch(e){throw console.error("Error in bulk user creation:",e),e}},generateTemporaryPassword(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let r="";r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],r+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],r+="0123456789"[Math.floor(Math.random()*10)],r+="!@#$%^&*"[Math.floor(Math.random()*8)];for(let n=4;n<12;n++)r+=e[Math.floor(Math.random()*e.length)];return r.split("").sort(()=>Math.random()-.5).join("")},async getCompanyName(t){try{const{data:e,error:r}=await F.from("companies").select("name").eq("id",t).single();if(r)throw r;return e==null?void 0:e.name}catch(e){console.warn("Could not fetch company name:",e);return}},async resetUserPassword(t){try{const{data:e,error:r}=await F.from("users").select("email, name, company_id").eq("id",t).single();if(r)throw r;const n=this.generateTemporaryPassword();return await this.sendWelcomeEmailViaSupabase({email:e.email,name:e.name,temporaryPassword:n,companyName:e.company_id?await this.getCompanyName(e.company_id):void 0}),n}catch(e){throw console.error("Error resetting user password:",e),e}},async sendPasswordResetEmail(t,e){try{const{data:r,error:n}=await F.from("users").select("id").eq("email",t).single();if(n||!r)throw new Error("Email not found in database");const s=`https://dashboard.ontimely.co.uk/set-initial-password?token=${encodeURIComponent(t)}&type=recovery`,i=await fetch("https://portal.ontimely.co.uk/api/send-account-confirmation-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,name:e,companyName:void 0,confirmationUrl:s})});if(!i.ok){const l=await i.json();throw new Error(`Edge Function failed: ${l.error||i.statusText}`)}console.log(` Password reset email sent successfully to ${t} via Edge Function`)}catch(r){throw console.error("Error sending password reset email:",r),r}}};function pw(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let r="";r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],r+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],r+="0123456789"[Math.floor(Math.random()*10)],r+="!@#$%^&*"[Math.floor(Math.random()*8)];for(let n=4;n<12;n++)r+=e[Math.floor(Math.random()*e.length)];return r.split("").sort(()=>Math.random()-.5).join("")}const gw={async getCompanies(){const{data:t,error:e}=await F.from("companies").select("*").order("created_at",{ascending:!1});if(e)throw e;return(t||[]).filter(r=>!r.deleted_at)},async getCompany(t){const{data:e,error:r}=await F.from("companies").select("*").eq("id",t).single();if(r)throw r;return e},async createCompany(t){const{data:e,error:r}=await F.from("companies").insert([t]).select().single();if(r)throw r;return e},async updateCompany(t,e){const{data:r,error:n}=await F.from("companies").update(e).eq("id",t).select().single();if(n)throw n;return r},async deleteCompany(t){const{error:e}=await F.from("companies").delete().eq("id",t);if(e)throw e},async softDeleteCompany(t){const{error:e}=await F.from("companies").update({deleted_at:new Date().toISOString()}).eq("id",t);if(e)throw e},async restoreCompany(t){const{error:e}=await F.from("companies").update({deleted_at:null}).eq("id",t);if(e)throw e},async getDeletedCompanies(){const{data:t,error:e}=await F.from("companies").select("*").not("deleted_at","is",null).order("deleted_at",{ascending:!1});if(e)throw e;return t||[]},async getCompanyStats(t){const{data:e,error:r}=await F.from("users").select("id, status").eq("company_id",t);if(r)throw r;const n=(e==null?void 0:e.length)||0,s=(e==null?void 0:e.filter(i=>i.status==="online").length)||0;return{totalUsers:n,onlineUsers:s}}},yw={async getUsers(){const{data:t,error:e}=await F.from("users").select(`
        *,
        companies (
          name,
          subscription_plan
        )
      `).order("created_at",{ascending:!1});if(e)throw e;return(t||[]).filter(r=>!r.deleted_at)},async getUsersByCompany(t){const{data:e,error:r}=await F.from("users").select("*").eq("company_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async createUser(t){var e;try{console.log(" DATABASE: createUser called with:",t);const r=pw();console.log(" DATABASE: Generated temporary password"),console.log(" DATABASE: Calling emailService.createUserWithAuth...");const n=await xl.createUserWithAuth({...t,password:r});return console.log(" DATABASE: emailService.createUserWithAuth completed:",{hasProfile:!!n.profile,hasAuth:!!n.auth,profileId:(e=n.profile)==null?void 0:e.id}),n.profile}catch(r){throw console.error(" DATABASE: Error creating user:",r),r}},async bulkCreateUsers(t){try{return(await xl.bulkCreateUsersWithAuth(t)).map(r=>r.profile)}catch(e){throw console.error("Error creating bulk users:",e),e}},async updateUser(t,e){const{data:r,error:n}=await F.from("users").update(e).eq("id",t).select().single();if(n)throw n;return r},async softDeleteUser(t){try{console.log(" DATABASE: Soft deleting user with ID:",t);const{error:e}=await F.from("users").update({deleted_at:new Date().toISOString(),status:"deleted"}).eq("id",t);if(e){if(e.code==="42703")return console.warn("deleted_at column not found, falling back to permanent delete"),this.deleteUser(t);throw console.error("Soft delete error:",e),e}console.log(" User soft deleted successfully")}catch(e){throw console.error(" Soft delete failed:",e),e}},async restoreUser(t){try{console.log(" DATABASE: Restoring user with ID:",t);const{error:e}=await F.from("users").update({deleted_at:null,status:"offline"}).eq("id",t);if(e){if(e.code==="42703"){console.warn("deleted_at column not found, just updating status");const{error:r}=await F.from("users").update({status:"offline"}).eq("id",t);if(r)throw r;console.log(" User status updated successfully");return}throw console.error("Restore error:",e),e}console.log(" User restored successfully")}catch(e){throw console.error(" Restore failed:",e),e}},async getDeletedUsers(){try{const t=new Date;t.setDate(t.getDate()-30);const{data:e,error:r}=await F.from("users").select("*").order("created_at",{ascending:!1});if(r)throw r;return(e||[]).filter(n=>n.deleted_at?new Date(n.deleted_at)>=t:!1)}catch(t){return console.error("Error fetching deleted users:",t),[]}},async deleteUser(t){try{console.log(" DATABASE: Permanently deleting user with ID:",t);const{error:e}=await F.from("users").delete().eq("id",t);if(e)throw console.error("Database deletion error:",e),e;console.log(" User deleted from database successfully");try{const{error:r}=await Yn.auth.admin.deleteUser(t);r?console.warn("Auth deletion error (user may not exist in auth):",r):console.log(" User deleted from Supabase Auth successfully")}catch(r){console.warn("Auth deletion failed (continuing anyway):",r)}}catch(e){throw console.error(" User deletion failed:",e),e}},async updateUserStatus(t,e){return this.updateUser(t,{status:e})},async resetUserPassword(t){try{return await xl.resetUserPassword(t)}catch(e){throw console.error("Error resetting user password:",e),e}}},vw={async getTeamsByCompany(t){const{data:e,error:r}=await F.from("teams").select("*").eq("company_id",t).eq("is_archived",!1).order("created_at",{ascending:!1});if(r)throw r;return e||[]},async getTeamMembers(t){const{data:e,error:r}=await F.from("team_members").select("*").eq("team_id",t).order("joined_at",{ascending:!1});if(r)throw r;return e||[]}},xw={async getChatsByCompany(t){const{data:e,error:r}=await F.from("chats").select("*").eq("company_id",t).eq("is_archived",!1).order("updated_at",{ascending:!1});if(r)throw r;return e||[]},async getChatMessages(t){const{data:e,error:r}=await F.from("messages").select("*").eq("chat_id",t).order("created_at",{ascending:!0});if(r)throw r;return e||[]}},ww={async getTickets(){const{data:t,error:e}=await F.from("support_tickets").select(`
        *,
        users (
          name,
          email
        ),
        companies (
          name
        )
      `).order("created_at",{ascending:!1});if(e)throw e;return t||[]},async createTicket(t){const{data:e,error:r}=await F.from("support_tickets").insert([t]).select().single();if(r)throw r;return e},async updateTicket(t,e){const{data:r,error:n}=await F.from("support_tickets").update(e).eq("id",t).select().single();if(n)throw n;return r},async getTicketStats(){const{data:t,error:e}=await F.from("support_tickets").select("status, priority");if(e)throw e;const r={open:0,inProgress:0,resolved:0,closed:0,highPriority:0};return t==null||t.forEach(n=>{n.status==="open"?r.open++:n.status==="in-progress"?r.inProgress++:n.status==="resolved"?r.resolved++:n.status==="closed"&&r.closed++,(n.priority==="high"||n.priority==="critical")&&r.highPriority++}),r}},jw={async getSystemMetrics(){const{data:t,error:e}=await F.from("system_metrics").select("*").order("created_at",{ascending:!1}).limit(10);if(e)throw e;return t||[]},async getUserActivity(t=30){const e=new Date;e.setDate(e.getDate()-t);const{data:r,error:n}=await F.from("users").select("created_at, last_seen").gte("created_at",e.toISOString());if(n)throw n;const s={};return r==null||r.forEach(i=>{const l=i.created_at.split("T")[0];s[l]||(s[l]={newUsers:0,activeUsers:0}),s[l].newUsers++,i.last_seen&&new Date(i.last_seen)>=e&&s[l].activeUsers++}),Object.entries(s).map(([i,l])=>({date:i,...l}))},async getCompanyGrowth(t=30){const e=new Date;e.setDate(e.getDate()-t);const{data:r,error:n}=await F.from("companies").select("created_at, subscription_plan").gte("created_at",e.toISOString());if(n)throw n;const s={};return r==null||r.forEach(i=>{const l=i.created_at.split("T")[0];s[l]||(s[l]={total:0,basic:0,premium:0,enterprise:0}),s[l].total++,s[l][i.subscription_plan]++}),Object.entries(s).map(([i,l])=>({date:i,...l}))}},me={companies:gw,users:yw,teams:vw,chats:xw,support:ww,analytics:jw},Md=()=>{const[t,e]=v.useState({totalCompanies:0,totalUsers:0,onlineUsers:0,newUsersThisMonth:0,newCompaniesThisMonth:0}),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,o]=v.useState(!0);v.useEffect(()=>{(async()=>{const h=await Cn.getCurrentUser();console.log(" DASHBOARD: Authentication state:",{currentUser:h,isAuthenticated:!!h,userRole:h==null?void 0:h.role,userEmail:h==null?void 0:h.email})})(),c()},[]);const c=async()=>{try{o(!0);const[u,h]=await Promise.all([me.companies.getCompanies(),me.users.getUsers()]),d=new Date,f=new Date(d.getFullYear(),d.getMonth(),1),y=h.filter(x=>new Date(x.created_at)>=f).length,w=u.filter(x=>new Date(x.created_at)>=f).length,b=h.filter(x=>x.status==="online").length;e({totalCompanies:u.length,totalUsers:h.length,onlineUsers:b,newUsersThisMonth:y,newCompaniesThisMonth:w}),n(u.slice(0,5)),i(h.slice(0,5))}catch(u){console.error("Error loading dashboard data:",u)}finally{o(!1)}};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Overview of your OnTimely application"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Ge,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Companies"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalCompanies})]})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[a.jsx(Oo,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-green-600",children:["+",t.newCompaniesThisMonth," this month"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Be,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalUsers})]})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[a.jsx(Ro,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-green-600",children:["+",t.newUsersThisMonth," this month"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(En,{className:"w-6 h-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Online Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.onlineUsers})]})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:[a.jsx(ra,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsx("span",{className:"text-green-600",children:"Active now"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(Oo,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.totalCompanies>0?Math.round(t.newCompaniesThisMonth/t.totalCompanies*100):0,"%"]})]})]}),a.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:a.jsx("span",{className:"text-orange-600",children:"Monthly"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Companies"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Latest companies added to the platform"})]}),a.jsx("div",{className:"p-6",children:r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(u=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Od,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[u.subscription_plan||"basic"," plan  ",u.max_users||5," users max"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(u.created_at).toLocaleDateString()})]},u.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Od,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No companies yet"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Users"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Latest users who joined the platform"})]}),a.jsx("div",{className:"p-6",children:s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(u=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Be,{className:"w-4 h-4 text-green-600"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[u.role||"user","  ",u.status||"offline"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(u.created_at).toLocaleDateString()})]},u.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Be,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"No users yet"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ge,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add Company"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Create a new company"})]})}),a.jsx("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ro,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add User"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Create a new user"})]})}),a.jsx("button",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:a.jsxs("div",{className:"text-center",children:[a.jsx(En,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"View Analytics"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Check detailed metrics"})]})})]})]})]})},bw=()=>{var qc,Kc;const[t,e]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[l,o]=v.useState(""),[c,u]=v.useState("all"),[h,d]=v.useState("all"),[f,y]=v.useState(!1),[w,b]=v.useState(!1),[x,g]=v.useState(!1),[m,p]=v.useState({email:"",name:"",company_id:"",role:"user"}),[j,k]=v.useState(!1),S=v.useRef(null),[C,P]=v.useState(!1),[D,U]=v.useState(!1),[ye,Le]=v.useState(!1),[Me,mt]=v.useState(!1),[ie,Ke]=v.useState(!1),De=v.useRef(null),T=v.useRef(null),$=v.useRef(null),I=v.useRef(null),H=v.useRef(null),[te,bt]=v.useState(""),[fe,zt]=v.useState(""),[Ne,E]=v.useState("user"),[ae,jr]=v.useState(!1),[rt,Ta]=v.useState(null),[Pa,Fc]=v.useState(!1),[Vm,Fs]=v.useState(!1),[br,Bs]=v.useState(null),[_r,Aa]=v.useState(null),[Ws,Bc]=v.useState("active"),[Wc,Hm]=v.useState([]),[_t,Vc]=v.useState([]),[Ln,Oa]=v.useState(null),[qm,Ra]=v.useState(""),[Km,Hr]=v.useState(!1);v.useEffect(()=>{kr()},[]),v.useEffect(()=>{const _=A=>{S.current&&!S.current.contains(A.target)&&k(!1),De.current&&!De.current.contains(A.target)&&P(!1),T.current&&!T.current.contains(A.target)&&U(!1),$.current&&!$.current.contains(A.target)&&Le(!1),I.current&&!I.current.contains(A.target)&&mt(!1),H.current&&!H.current.contains(A.target)&&Ke(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const kr=async()=>{try{i(!0);const[_,A,L]=await Promise.all([me.users.getUsers(),me.companies.getCompanies(),me.users.getDeletedUsers()]);e(_),n(A),Hm(L)}catch(_){console.error("Error loading data:",_)}finally{i(!1)}},Gm=async()=>{try{if(console.log(" USER CREATION STARTED:",{email:m.email,name:m.name,company_id:m.company_id,role:m.role}),!m.email||!m.name||!m.company_id){st.error("Please fill in all required fields.");return}const _={email:m.email,name:m.name,company_id:m.company_id,role:m.role};console.log(" CALLING db.users.createUser with:",_);const A=await me.users.createUser(_);console.log(" USER CREATED SUCCESSFULLY:",A);let L;if(m.company_id){const Q=r.find(kt=>kt.id===m.company_id);L=Q==null?void 0:Q.name}Oa({email:m.email,name:m.name,companyName:L}),g(!0),y(!1),p({email:"",name:"",company_id:"",role:"user"}),st.success(`User ${m.name} created successfully! Welcome email sent.`),kr()}catch(_){console.error("Error creating user:",_);let A="Error creating user. Please try again.";if(_&&typeof _=="object"&&"message"in _){const L=_.message.toLowerCase();if(L.includes("for security purposes, you can only request this after")){st.success("User created successfully! Welcome email will be sent shortly (rate limited).");return}else L.includes("invalid email")||L.includes("email format")||L.includes("400")?A="Invalid email address. Please check the email format and try again.":L.includes("email already exists")||L.includes("duplicate")||L.includes("already registered")?A="A user with this email address already exists.":L.includes("company not found")||L.includes("invalid company")?A="Selected company is invalid. Please refresh the page and try again.":(L.includes("network")||L.includes("connection"))&&(A="Network error. Please check your connection and try again.")}st.error(A)}},Jm=async()=>{try{if(console.log(" BULK USER CREATION STARTED:",{count:_t.length,companyId:fe,role:Ne}),_t.length===0)return;const _=_t.map(A=>({email:A.email.trim(),name:A.name.trim(),company_id:fe||void 0,role:Ne}));console.log(" CALLING db.users.bulkCreateUsers with:",_),await me.users.bulkCreateUsers(_),console.log(" BULK USER CREATION COMPLETED SUCCESSFULLY"),b(!1),bt(""),Vc([]),zt(""),E("user"),kr(),Ra(`Successfully created ${_t.length} users! Welcome emails have been sent.`),Hr(!0),setTimeout(()=>Hr(!1),5e3)}catch(_){console.error("Error creating bulk users:",_),Ra("Error creating bulk users. Please try again."),Hr(!0),setTimeout(()=>Hr(!1),5e3)}},Zm=async _=>{try{const A=t.find(L=>L.id===_);if(A){let L;if(A.company_id){const Q=r.find(kt=>kt.id===A.company_id);L=Q==null?void 0:Q.name}Oa({email:A.email,name:A.name,companyName:L}),g(!0)}}catch(A){console.error("Error resetting password:",A),Ra("Error resetting password. Please try again."),Hr(!0),setTimeout(()=>Hr(!1),5e3)}},Hc=_=>{const A=_.split(`
`).filter(Q=>Q.trim()),L=[];A.forEach(Q=>{const kt=Q.split(",").map($a=>$a.trim());kt.length>=2&&L.push({email:kt[0],name:kt[1]})}),Vc(L)},Qm=_=>{var L;const A=(L=_.target.files)==null?void 0:L[0];if(A){const Q=new FileReader;Q.onload=kt=>{var Gc;const $a=(Gc=kt.target)==null?void 0:Gc.result;Hc($a)},Q.readAsText(A)}},Ym=(_,A,L)=>{Ta({id:_,name:A,email:L}),jr(!0)},Xm=async()=>{if(rt){Fc(!0);try{await me.users.softDeleteUser(rt.id),Bs(rt),Fs(!0),jr(!1),Ta(null),kr();const _=setTimeout(()=>{Fs(!1),Bs(null),br&&me.users.deleteUser(br.id).catch(console.error)},3e3);Aa(_)}catch(_){console.error("Error deleting user:",_),st.error("Error deleting user. Please try again.")}finally{Fc(!1)}}},ep=async()=>{if(br)try{await me.users.restoreUser(br.id),Fs(!1),Bs(null),_r&&(clearTimeout(_r),Aa(null)),kr(),st.success(`User ${br.name} restored successfully.`)}catch(_){console.error("Error restoring user:",_),st.error("Error restoring user. Please try again.")}},tp=async(_,A)=>{try{await me.users.restoreUser(_),kr(),st.success(`User ${A} restored successfully.`)}catch(L){console.error("Error restoring user:",L),st.error("Error restoring user. Please try again.")}},rp=async(_,A,L)=>{if(window.confirm(`Are you sure you want to permanently delete ${A}? This action cannot be undone.`))try{await me.users.deleteUser(_),kr(),st.success(`User ${A} permanently deleted.`)}catch(Q){console.error("Error permanently deleting user:",Q),st.error("Error permanently deleting user. Please try again.")}},Nr=(_,A,L)=>{let Q="w-full px-3 py-2 text-left hover:bg-primary-50 hover:text-primary-700 transition-colors duration-150 flex items-center justify-between";return A||(Q+=" border-t border-gray-100"),A&&(Q+=" rounded-t-lg"),L&&(Q+=" rounded-b-lg"),Q},np=(Ws==="active"?t:Wc).filter(_=>{const A=_.name.toLowerCase().includes(l.toLowerCase())||_.email.toLowerCase().includes(l.toLowerCase()),L=c==="all"||_.status===c,Q=h==="all"||_.company_id===h;return A&&L&&Q});v.useEffect(()=>()=>{_r&&clearTimeout(_r)},[_r]);const sp=_=>{if(!_)return"No Company";const A=r.find(L=>L.id===_);return(A==null?void 0:A.name)||"Unknown Company"},ip=_=>{switch(_){case"online":return"bg-green-100 text-green-800";case"offline":return"bg-gray-100 text-gray-800";case"away":return"bg-yellow-100 text-yellow-800";case"busy":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ap=_=>{switch(_){case"masterAdmin":return"bg-purple-100 text-purple-800";case"user":return"bg-green-100 text-green-800";default:return"bg-green-100 text-green-800"}},Ua=r.find(_=>_.id===m.company_id);return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"p-6",children:[Km&&a.jsx("div",{className:"fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded z-50",children:qm}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage all users across companies"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>b(!0),className:"btn btn-secondary flex items-center gap-2",children:[a.jsx(Ro,{className:"w-4 h-4"}),"Bulk Add Users"]}),a.jsxs("button",{onClick:()=>y(!0),className:"btn btn-primary flex items-center gap-2",children:[a.jsx(Mc,{className:"w-4 h-4"}),"Add User"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"flex-1 min-w-64",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:_=>o(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"relative",ref:De,children:[a.jsxs("button",{type:"button",onClick:()=>P(!C),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-left flex items-center justify-between min-w-[140px]",children:[a.jsx("span",{className:"text-gray-900",children:c==="all"?"All Statuses":c==="online"?"Online":c==="offline"?"Offline":c==="away"?"Away":"Busy"}),a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${C?"rotate-180":""}`})]}),C&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden",children:[{value:"all",label:"All Statuses"},{value:"online",label:"Online"},{value:"offline",label:"Offline"},{value:"away",label:"Away"},{value:"busy",label:"Busy"}].map((_,A,L)=>a.jsxs("button",{onClick:()=>{u(_.value),P(!1)},className:Nr(c===_.value,A===0,A===L.length-1),children:[a.jsx("span",{children:_.label}),c===_.value&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},_.value))})]}),a.jsxs("div",{className:"relative",ref:T,children:[a.jsxs("button",{type:"button",onClick:()=>U(!D),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-left flex items-center justify-between min-w-[160px]",children:[a.jsx("span",{className:"text-gray-900 truncate",children:h==="all"?"All Companies":((qc=r.find(_=>_.id===h))==null?void 0:qc.name)||"Unknown Company"}),a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${D?"rotate-180":""}`})]}),D&&a.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:[a.jsxs("button",{onClick:()=>{d("all"),U(!1)},className:Nr(h==="all",!0,r.length===0),children:[a.jsx("span",{children:"All Companies"}),h==="all"&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]}),r.map((_,A)=>a.jsxs("button",{onClick:()=>{d(_.id),U(!1)},className:Nr(h===_.id,!1,A===r.length-1),children:[a.jsx("span",{className:"truncate",children:_.name}),h===_.id&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},_.id))]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8 px-6",children:[a.jsxs("button",{onClick:()=>Bc("active"),className:`py-4 px-1 border-b-2 font-medium text-sm ${Ws==="active"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Active Users (",t.length,")"]}),a.jsxs("button",{onClick:()=>Bc("deleted"),className:`py-4 px-1 border-b-2 font-medium text-sm ${Ws==="deleted"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Recently Deleted (",Wc.length,")"]})]})})}),Vm&&br&&a.jsxs("div",{className:"fixed top-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"w-5 h-5 mr-2"}),a.jsxs("span",{children:['User "',br.name,'" deleted']})]}),a.jsx("button",{onClick:ep,className:"bg-white text-red-600 px-3 py-1 rounded text-sm font-medium hover:bg-red-50 transition-colors",children:"Undo"}),a.jsx("button",{onClick:()=>{Fs(!1),Bs(null),_r&&(clearTimeout(_r),Aa(null))},className:"text-red-200 hover:text-white",children:a.jsx(Ld,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Seen"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:np.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:_.avatar_url?a.jsx("img",{className:"h-10 w-10 rounded-full",src:_.avatar_url,alt:_.name}):a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-primary-600",children:_.name.charAt(0).toUpperCase()})})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),a.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:sp(_.company_id)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ap(_.role)}`,children:_.role||"user"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ip(_.status)}`,children:_.status||"offline"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.last_seen?new Date(_.last_seen).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex items-center space-x-2",children:Ws==="active"?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>Zm(_.id),className:"text-yellow-600 hover:text-yellow-900",title:"Reset Password",children:a.jsx(Po,{className:"w-4 h-4"})}),a.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:a.jsx(uw,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Ym(_.id,_.name,_.email),className:"text-red-600 hover:text-red-900",children:a.jsx(rr,{className:"w-4 h-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>tp(_.id,_.name),className:"text-green-600 hover:text-green-900",title:"Restore User",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),a.jsx("button",{onClick:()=>rp(_.id,_.name,_.email),className:"text-red-600 hover:text-red-900",title:"Permanently Delete",children:a.jsx(rr,{className:"w-4 h-4"})})]})})})]},_.id))})]})})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New User"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",value:m.name,onChange:_=>p({...m,name:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),a.jsx("input",{type:"email",value:m.email,onChange:_=>p({...m,email:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter email address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Company *"}),a.jsxs("div",{className:"relative",ref:S,children:[a.jsxs("button",{type:"button",onClick:()=>k(!j),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-left flex items-center justify-between",children:[a.jsx("span",{className:Ua?"text-gray-900":"text-gray-500",children:Ua?Ua.name:"Select a company"}),a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${j?"rotate-180":""}`})]}),j&&a.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:r.map((_,A)=>a.jsxs("button",{onClick:()=>{p({...m,company_id:_.id}),k(!1)},className:Nr(m.company_id===_.id,A===0,A===r.length-1),children:[a.jsx("span",{children:_.name}),m.company_id===_.id&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},_.id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),a.jsxs("div",{className:"relative",ref:$,children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10",children:a.jsx(Ni,{className:"h-5 w-5 text-gray-400"})}),a.jsx("button",{type:"button",onClick:()=>Le(!ye),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors bg-white text-left",children:a.jsx("span",{className:m.role?"text-gray-900":"text-gray-500",children:m.role==="user"?"User":m.role==="manager"?"Manager":m.role==="supervisor"?"Supervisor":m.role==="employee"?"Employee":m.role==="viewer"?"Viewer":m.role==="other"?"Other":"Select a role"})}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${ye?"rotate-180":""}`})}),ye&&a.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden",children:[{value:"user",label:"User"},{value:"manager",label:"Manager"},{value:"supervisor",label:"Supervisor"},{value:"employee",label:"Employee"},{value:"viewer",label:"Viewer"},{value:"other",label:"Other"}].map((_,A,L)=>a.jsxs("button",{type:"button",onClick:()=>{p({...m,role:_.value}),Le(!1)},className:Nr(m.role===_.value,A===0,A===L.length-1),children:[a.jsx("span",{children:_.label}),m.role===_.value&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},_.value))})]}),m.role==="other"&&a.jsx("div",{className:"mt-2",children:a.jsx("input",{type:"text",name:"customRole",placeholder:"Specify custom role",className:"block w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors",onChange:_=>p(A=>({...A,role:_.target.value}))})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>y(!1),className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:Gm,disabled:!m.name||!m.email||!m.company_id,className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Create User"})]})]})}),x&&Ln&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:a.jsx(Po,{className:"h-6 w-6 text-green-600"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Created Successfully!"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome email has been sent with login credentials."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"User Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",Ln.name]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",Ln.email]}),Ln.companyName&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Company:"})," ",Ln.companyName]})]})]}),a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"})})}),a.jsx("p",{className:"text-sm text-green-800",children:"A welcome email with login credentials has been sent to the user. They should check their email and set their password."})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>{g(!1),Oa(null)},className:"btn btn-primary",children:"Done"})})]})}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Bulk Add Users"}),a.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx(Ld,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Choose Input Method"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("input",{type:"file",accept:".csv",onChange:Qm,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV format: email,name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manual Input (comma-separated)"}),a.jsx("textarea",{value:te,onChange:_=>{bt(_.target.value),Hc(_.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:`email1@example.com, John Doe
email2@example.com, Jane Smith
email3@example.com, Bob Johnson`,rows:6}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: email, name (one per line)"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Common Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),a.jsxs("div",{className:"relative",ref:I,children:[a.jsxs("button",{type:"button",onClick:()=>mt(!Me),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-left flex items-center justify-between",children:[a.jsx("span",{className:fe?"text-gray-900":"text-gray-500",children:fe?((Kc=r.find(_=>_.id===fe))==null?void 0:Kc.name)||"Unknown Company":"Select a company"}),a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${Me?"rotate-180":""}`})]}),Me&&a.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:r.map((_,A)=>a.jsxs("button",{type:"button",onClick:()=>{zt(_.id),mt(!1)},className:Nr(fe===_.id,A===0,A===r.length-1),children:[a.jsx("span",{className:"truncate",children:_.name}),fe===_.id&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},_.id))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("div",{className:"relative",ref:H,children:[a.jsxs("button",{type:"button",onClick:()=>Ke(!ie),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-left flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-900",children:Ne==="user"?"User":"Master Admin"}),a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${ie?"rotate-180":""}`})]}),ie&&a.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden",children:[{value:"user",label:"User"},{value:"masterAdmin",label:"Master Admin"}].map((_,A,L)=>a.jsxs("button",{type:"button",onClick:()=>{E(_.value),Ke(!1)},className:Nr(Ne===_.value,A===0,A===L.length-1),children:[a.jsx("span",{children:_.label}),Ne===_.value&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},_.value))})]})]})]})]}),_t.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-medium mb-3",children:["Preview (",_t.length," users)"]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:_t.map((_,A)=>a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:_.name}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",_.email,")"]})]},A))})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>b(!1),className:"btn btn-secondary",children:"Cancel"}),a.jsxs("button",{onClick:Jm,disabled:_t.length===0||!fe,className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:["Create ",_t.length," Users"]})]})]})}),ae&&rt&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:a.jsx(rr,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"text-gray-700 mb-4",children:"Are you sure you want to delete this user? This will permanently remove their account and all associated data."}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(K1,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"User Details"}),a.jsxs("p",{className:"text-sm text-red-700",children:[a.jsx("strong",{children:"Name:"})," ",rt.name]}),a.jsxs("p",{className:"text-sm text-red-700",children:[a.jsx("strong",{children:"Email:"})," ",rt.email]})]})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{jr(!1),Ta(null)},disabled:Pa,className:"btn btn-secondary disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:Xm,disabled:Pa,className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm font-medium transition-colors duration-150",children:Pa?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2 inline-block"}),"Deleting..."]}):"Delete User"})]})]})})})]})},_w=()=>{const[t,e]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(""),[l,o]=v.useState("all"),[c,u]=v.useState(!0),[h,d]=v.useState(!1),[f,y]=v.useState(!1),[w,b]=v.useState(null),[x,g]=v.useState(""),[m,p]=v.useState(!1),[j,k]=v.useState(!1),[S,C]=v.useState(null),[P,D]=v.useState("active"),[U,ye]=v.useState([]),[Le,Me]=v.useState(!1),mt=v.useRef(null),[ie,Ke]=v.useState({name:"",subscription_plan:"basic",max_users:5});v.useEffect(()=>{De()},[]),v.useEffect(()=>{P==="deleted"&&T()},[P]),v.useEffect(()=>{$()},[t,s,l]),v.useEffect(()=>{const E=ae=>{mt.current&&!mt.current.contains(ae.target)&&Me(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const De=async()=>{try{u(!0);const E=await me.companies.getCompanies();e(E)}catch(E){console.error("Error loading companies:",E)}finally{u(!1)}},T=async()=>{try{const E=await me.companies.getDeletedCompanies();ye(E)}catch(E){console.error("Error loading deleted companies:",E)}},$=()=>{let E=t;s&&(E=E.filter(ae=>ae.name.toLowerCase().includes(s.toLowerCase()))),l!=="all"&&(E=E.filter(ae=>ae.subscription_plan===l)),n(E)},I=(E,ae,jr)=>{let rt="w-full px-3 py-2 text-left hover:bg-primary-50 hover:text-primary-700 transition-colors duration-150 flex items-center justify-between";return ae||(rt+=" border-t border-gray-100"),ae&&(rt+=" rounded-t-lg"),jr&&(rt+=" rounded-b-lg"),rt},H=async()=>{try{const E={name:ie.name};ie.subscription_plan&&ie.subscription_plan!=="basic"&&(E.subscription_plan=ie.subscription_plan),ie.max_users&&ie.max_users!==5&&(E.max_users=ie.max_users),await me.companies.createCompany(E),d(!1),Ke({name:"",subscription_plan:"basic",max_users:5}),De()}catch(E){console.error("Error creating company:",E)}},te=E=>{b(E),g(""),y(!0)},bt=async()=>{if(!(!w||x!==w.name)){p(!0);try{await me.companies.softDeleteCompany(w.id),C(w),k(!0),setTimeout(()=>k(!1),3e4),De(),y(!1),b(null),g("")}catch(E){console.error("Error deleting company:",E)}finally{p(!1)}}},fe=async()=>{if(S)try{await me.companies.restoreCompany(S.id),k(!1),C(null),De()}catch(E){console.error("Error restoring company:",E)}},zt=async E=>{try{await me.companies.restoreCompany(E.id),De(),T()}catch(ae){console.error("Error restoring company:",ae)}},Ne=E=>{const ae={basic:"bg-green-100 text-green-800",premium:"bg-purple-100 text-purple-800",enterprise:"bg-green-200 text-green-900"};return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ae[E]||ae.basic}`,children:E})};return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Companies"}),a.jsx("p",{className:"text-gray-600",children:"Manage company accounts and subscriptions"})]}),a.jsxs("button",{onClick:()=>d(!0),className:"btn-primary",children:[a.jsx(Mc,{className:"w-4 h-4 mr-2"}),"Add Company"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ge,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Companies"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Be,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.reduce((E,ae)=>E+(ae.max_users||5),0)})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ge,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Premium Plans"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(E=>E.subscription_plan==="premium").length})]})]})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Be,{className:"w-8 h-8 text-orange-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Enterprise Plans"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(E=>E.subscription_plan==="enterprise").length})]})]})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>D("active"),className:`py-2 px-1 border-b-2 font-medium text-sm ${P==="active"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Active Companies (",t.length,")"]}),a.jsxs("button",{onClick:()=>D("deleted"),className:`py-2 px-1 border-b-2 font-medium text-sm ${P==="deleted"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Recently Deleted (",U.length,")"]})]})})}),a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1 min-w-64",children:a.jsxs("div",{className:"relative",children:[a.jsx(Dc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search companies...",value:s,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"relative",ref:mt,children:[a.jsxs("button",{type:"button",onClick:()=>Me(!Le),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white text-left flex items-center justify-between min-w-[140px]",children:[a.jsx("span",{className:"text-gray-900",children:l==="all"?"All Plans":l==="basic"?"Basic":l==="premium"?"Premium":"Enterprise"}),a.jsx(Gt,{className:`w-4 h-4 text-gray-400 transition-transform ${Le?"rotate-180":""}`})]}),Le&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden",children:[{value:"all",label:"All Plans"},{value:"basic",label:"Basic"},{value:"premium",label:"Premium"},{value:"enterprise",label:"Enterprise"}].map((E,ae,jr)=>a.jsxs("button",{onClick:()=>{o(E.value),Me(!1)},className:I(l===E.value,ae===0,ae===jr.length-1),children:[a.jsx("span",{children:E.label}),l===E.value&&a.jsx(Tt,{className:"w-4 h-4 text-primary-600"})]},E.value))})]})]})}),P==="active"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:r.map(E=>a.jsx("div",{className:"bg-white rounded-lg border hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ge,{className:"w-8 h-8 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",E.id.slice(0,8),"..."]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:Ne(E.subscription_plan||"basic")})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Be,{className:"w-4 h-4 mr-2"}),"Max Users: ",E.max_users||5]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Plan: ",E.subscription_plan||"basic"]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(E.created_at).toLocaleDateString()]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>te(E),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Delete Company",children:a.jsx(rr,{className:"w-4 h-4"})}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:a.jsx(lw,{className:"w-4 h-4"})})]})]})]})},E.id))}),P==="deleted"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:U.map(E=>a.jsx("div",{className:"bg-white rounded-lg border border-red-200 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ge,{className:"w-8 h-8 text-red-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",E.id.slice(0,8),"..."]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:"Deleted"})})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Be,{className:"w-4 h-4 mr-2"}),"Max Users: ",E.max_users||5]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Plan: ",E.subscription_plan||"basic"]}),a.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[a.jsx(rr,{className:"w-4 h-4 mr-2"}),"Deleted: ",E.deleted_at?new Date(E.deleted_at).toLocaleDateString():"Unknown"]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(E.created_at).toLocaleDateString()]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>zt(E),className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50",title:"Restore Company",children:a.jsx(Tt,{className:"w-4 h-4"})})})]})]})},E.id))}),(P==="active"&&r.length===0||P==="deleted"&&U.length===0)&&!c&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ge,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:P==="active"?"No companies found":"No deleted companies found"}),a.jsx("p",{className:"text-gray-600",children:P==="active"?"Try adjusting your search or filters.":"Deleted companies will appear here for 30 days."})]}),h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Company"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Company Name *",value:ie.name,onChange:E=>Ke({...ie,name:E.target.value}),className:"input w-full",required:!0}),a.jsxs("select",{value:ie.subscription_plan,onChange:E=>Ke({...ie,subscription_plan:E.target.value}),className:"input w-full",children:[a.jsx("option",{value:"basic",children:"Basic (default)"}),a.jsx("option",{value:"premium",children:"Premium"}),a.jsx("option",{value:"enterprise",children:"Enterprise"})]}),a.jsx("input",{type:"number",placeholder:"Max Users (default: 5)",value:ie.max_users,onChange:E=>Ke({...ie,max_users:parseInt(E.target.value)||5}),className:"input w-full",min:"1"}),a.jsx("p",{className:"text-xs text-gray-500",children:"* Company name is required. Subscription plan and max users will use defaults if not specified."})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>d(!1),className:"btn-secondary flex-1",children:"Cancel"}),a.jsx("button",{onClick:H,disabled:!ie.name.trim(),className:"btn-primary flex-1 disabled:opacity-50",children:"Create Company"})]})]})}),f&&w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:a.jsx(rr,{className:"w-5 h-5 text-red-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Company"}),a.jsx("p",{className:"text-sm text-gray-500",children:"This action can be undone within 30 days"})]})]}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(ea,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Warning"}),a.jsxs("p",{className:"text-sm text-red-700 mt-1",children:['This will delete the company "',w.name,'" and all associated users. The company will be moved to a "Recently Deleted" section for 30 days.']})]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type the company name to confirm deletion:"}),a.jsx("input",{type:"text",value:x,onChange:E=>g(E.target.value),placeholder:w.name,className:"input w-full",autoFocus:!0})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>{y(!1),b(null),g("")},className:"btn-secondary flex-1",disabled:m,children:"Cancel"}),a.jsx("button",{onClick:bt,disabled:x!==w.name||m,className:"btn-danger flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Deleting...":"Delete Company"})]})]})}),j&&S&&a.jsxs("div",{className:"fixed top-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(rr,{className:"w-5 h-5 mr-2"}),a.jsxs("span",{children:['Company "',S.name,'" deleted']})]}),a.jsx("button",{onClick:fe,className:"bg-white text-red-600 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100",children:"Undo"}),a.jsx("button",{onClick:()=>k(!1),className:"text-white hover:text-gray-200",children:""})]})]})},kw=()=>{const[t,e]=v.useState("overview"),r={currentVersion:"2.1.0",totalDownloads:"15,847",activeUsers:"8,923",lastUpdate:"2024-01-10T15:30:00Z"},n=[{version:"2.1.0",date:"2024-01-10",type:"feature",description:"Enhanced chat functionality and improved performance",status:"released"},{version:"2.0.5",date:"2023-12-15",type:"bugfix",description:"Fixed authentication issues and minor UI improvements",status:"released"},{version:"2.0.0",date:"2023-11-20",type:"major",description:"Complete UI redesign and new event management features",status:"released"}],s=[{platform:"Windows",icon:"",steps:["Download the installer from the link below","Run the installer as administrator","Follow the installation wizard","Launch OnTimely from the Start menu"],downloadLink:"#",systemRequirements:"Windows 10 or later, 4GB RAM, 500MB disk space"},{platform:"macOS",icon:"",steps:["Download the .dmg file from the link below","Open the .dmg file and drag OnTimely to Applications","Open OnTimely from Applications folder","Allow necessary permissions when prompted"],downloadLink:"#",systemRequirements:"macOS 11.0 or later, 4GB RAM, 500MB disk space"},{platform:"Linux",icon:"",steps:["Download the .AppImage file from the link below","Make the file executable: chmod +x OnTimely.AppImage","Run the AppImage file","Optional: Move to /usr/local/bin for system-wide access"],downloadLink:"#",systemRequirements:"Ubuntu 20.04+ or equivalent, 4GB RAM, 500MB disk space"}],i=[{issue:"App won't start",solution:"Check if your system meets minimum requirements and try running as administrator",severity:"high",category:"startup"},{issue:"Authentication errors",solution:"Clear app cache and re-authenticate with your credentials",severity:"medium",category:"auth"},{issue:"Slow performance",solution:"Close other applications and check available system resources",severity:"low",category:"performance"},{issue:"Update failed",solution:"Download the latest version manually from our website",severity:"medium",category:"updates"}],l=[{id:"overview",label:"Overview",icon:Wm},{id:"installation",label:"Installation",icon:ds},{id:"troubleshooting",label:"Troubleshooting",icon:ea},{id:"updates",label:"Updates",icon:na},{id:"documentation",label:"Documentation",icon:G1}],o=u=>{const h={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"};return h[u]||h.low},c=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Desktop App Support"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage desktop app installation, updates, and provide user support"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx($d,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Version"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.currentVersion})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(ds,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.totalDownloads})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Be,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.activeUsers})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(Z1,{className:"h-6 w-6 text-orange-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Update"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:c(r.lastUpdate)})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:l.map(u=>{const h=u.icon;return a.jsxs("button",{onClick:()=>e(u.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${t===u.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(h,{className:"h-4 w-4"}),u.label]},u.id)})})}),a.jsxs("div",{className:"p-6",children:[t==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Updates"}),a.jsx("div",{className:"space-y-4",children:n.map((u,h)=>a.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx($d,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("span",{className:"font-medium text-gray-900",children:["v",u.version]}),a.jsx("span",{className:"text-sm text-gray-500",children:u.date}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${u.type==="major"?"bg-purple-100 text-purple-800":(u.type==="feature","bg-green-100 text-green-800")}`,children:u.type})]}),a.jsx("p",{className:"text-gray-600",children:u.description})]}),a.jsx(ra,{className:"h-5 w-5 text-green-500 mt-1"})]},h))})]})}),t==="installation"&&a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:s.map((u,h)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:u.icon}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:u.platform})]}),a.jsx("div",{className:"space-y-3 mb-4",children:u.steps.map((d,f)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center text-sm font-medium",children:f+1}),a.jsx("p",{className:"text-sm text-gray-600",children:d})]},f))}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{className:"btn-primary w-full",children:[a.jsx(ds,{className:"h-4 w-4"}),"Download for ",u.platform]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[a.jsx("strong",{children:"System Requirements:"})," ",u.systemRequirements]})]})]},h))})}),t==="troubleshooting"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Common Issues & Solutions"}),a.jsx("div",{className:"space-y-4",children:i.map((u,h)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:u.issue}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(u.severity)}`,children:u.severity})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:u.solution})]},h))})]})}),t==="updates"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Management"}),a.jsx("p",{className:"text-gray-600",children:"Manage app updates and release schedules"})]}),a.jsxs("button",{className:"btn-primary",children:[a.jsx(na,{className:"h-4 w-4"}),"Check for Updates"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Update Status"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ra,{className:"h-5 w-5 text-green-500"}),a.jsxs("span",{className:"text-gray-600",children:["Your app is up to date (v",r.currentVersion,")"]})]})]})]}),t==="documentation"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentation & Resources"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ew,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"User Manual"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Complete guide to using OnTimely"})]})]})}),a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(hw,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Video Tutorials"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Step-by-step video guides"})]})]})}),a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(zc,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Configuration Guide"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Advanced settings and customization"})]})]})}),a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors cursor-pointer",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ea,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Troubleshooting"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Common issues and solutions"})]})]})})]})]})})]})]})]})},Nw=()=>{const[t,e]=v.useState("30d"),[r,n]=v.useState("users"),s=[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"},{value:"1y",label:"Last year"}],i=[{value:"users",label:"User Activity"},{value:"events",label:"Event Creation"},{value:"engagement",label:"User Engagement"},{value:"performance",label:"Performance Metrics"}],l=[{title:"Total Users",value:"12,847",change:"+15%",changeType:"positive",icon:Be,color:"bg-green-500"},{title:"Active Sessions",value:"8,234",change:"+8%",changeType:"positive",icon:En,color:"bg-green-500"},{title:"Events Created",value:"2,156",change:"+23%",changeType:"positive",icon:J1,color:"bg-purple-500"}],o=[{feature:"Event Creation",usage:85,change:"+12%"},{feature:"Guest Management",usage:72,change:"+8%"},{feature:"Chat System",usage:68,change:"+15%"},{feature:"Calendar View",usage:61,change:"+5%"},{feature:"File Sharing",usage:54,change:"+18%"}],c=[{metric:"Page Load Time",value:"1.2s",status:"good",target:"<2s"},{metric:"API Response Time",value:"180ms",status:"good",target:"<200ms"},{metric:"Database Query Time",value:"45ms",status:"excellent",target:"<50ms"},{metric:"Memory Usage",value:"68%",status:"warning",target:"<70%"},{metric:"CPU Usage",value:"45%",status:"good",target:"<60%"}],u=d=>{const f={excellent:"text-green-600",good:"text-green-600",warning:"text-yellow-600",critical:"text-red-600"};return f[d]||f.good},h=d=>{const f={excellent:"bg-green-100",good:"bg-green-100",warning:"bg-yellow-100",critical:"bg-red-100"};return f[d]||f.good};return a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics & Monitoring"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track user activity, system performance, and usage patterns"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("select",{value:t,onChange:d=>e(d.target.value),className:"input",children:s.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))}),a.jsx("select",{value:r,onChange:d=>n(d.target.value),className:"input",children:i.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:l.map((d,f)=>{const y=d.icon;return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.value})]}),a.jsx("div",{className:`p-3 rounded-lg ${d.color}`,children:a.jsx(y,{className:"h-6 w-6 text-white"})})]}),a.jsxs("div",{className:"mt-4 flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${d.changeType==="positive"?"text-green-600":"text-red-600"}`,children:d.change}),a.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"from last period"})]})]},f)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Feature Usage"}),a.jsx("div",{className:"space-y-4",children:o.map((d,f)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:d.feature}),a.jsxs("span",{className:"text-sm text-gray-500",children:[d.usage,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${d.usage}%`}})})]}),a.jsx("span",{className:"text-sm text-green-600 ml-3",children:d.change})]},f))})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Performance"}),a.jsx("div",{className:"space-y-4",children:c.map((d,f)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.metric}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Target: ",d.target]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-lg font-bold ${u(d.status)}`,children:d.value}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(d.status)} ${u(d.status)}`,children:d.status})]})]},f))})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Geographic Distribution"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Top regions: US (45%), EU (32%), Asia (23%)"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Platform Usage"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Desktop: 65%, Mobile: 25%, Tablet: 10%"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx(En,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900",children:"User Engagement"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Avg. daily active users: 8,234"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Export & Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Generate detailed reports and export data"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"btn-outline",children:[a.jsx(ta,{className:"h-4 w-4"}),"Generate Report"]}),a.jsx("button",{className:"btn-primary",children:"Export Data"})]})]})})]})},Sw=()=>{const[t,e]=v.useState("overview"),r={overall:"excellent",uptime:"99.98%",activeUsers:"8,234",serverLoad:"45%"},n=[{name:"CPU Usage",value:"45%",status:"good",icon:Q1,color:"bg-green-500"},{name:"Memory Usage",value:"68%",status:"warning",icon:Rd,color:"bg-yellow-500"},{name:"Disk Usage",value:"72%",status:"warning",icon:Rd,color:"bg-orange-500"},{name:"Network",value:"32%",status:"excellent",icon:cw,color:"bg-green-500"}],s=[{id:"INC-001",type:"Database Slowdown",severity:"medium",status:"resolved",description:"Database queries taking longer than expected",createdAt:"2024-01-15T10:30:00Z",resolvedAt:"2024-01-15T11:45:00Z"},{id:"INC-002",type:"API Rate Limiting",severity:"low",status:"resolved",description:"Temporary rate limiting due to high traffic",createdAt:"2024-01-14T16:20:00Z",resolvedAt:"2024-01-14T17:10:00Z"}],i=[{title:"Bulk User Creation",description:"Create multiple user accounts from CSV file",icon:Be,action:()=>console.log("Bulk user creation"),color:"bg-green-500"},{title:"Company Management",description:"Manage company accounts and settings",icon:Ge,action:()=>console.log("Company management"),color:"bg-green-500"},{title:"System Backup",description:"Create system backup and restore points",icon:yl,action:()=>console.log("System backup"),color:"bg-purple-500"},{title:"Security Audit",description:"Run security audit and vulnerability scan",icon:Ni,action:()=>console.log("Security audit"),color:"bg-red-500"}],l=[{id:"overview",label:"System Overview",icon:En},{id:"users",label:"Bulk User Management",icon:Be},{id:"companies",label:"Company Management",icon:Ge},{id:"monitoring",label:"System Monitoring",icon:Id},{id:"security",label:"Security & Access",icon:Ni},{id:"backup",label:"Backup & Recovery",icon:yl}],o=d=>{const f={excellent:"text-green-600",good:"text-green-600",warning:"text-yellow-600",critical:"text-red-600"};return f[d]||f.good},c=d=>{const f={excellent:"bg-green-100",good:"bg-green-100",warning:"bg-yellow-100",critical:"bg-red-600"};return f[d]||f.good},u=d=>{const f={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800",critical:"bg-red-600 text-white"};return f[d]||f.low},h=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Tools"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"System administration, monitoring, and management tools"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Health Overview"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c(r.overall)} ${o(r.overall)}`,children:r.overall}),a.jsxs("button",{className:"btn-outline",children:[a.jsx(na,{className:"h-4 w-4"}),"Refresh"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:n.map((d,f)=>{const y=d.icon;return a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`p-3 rounded-lg ${d.color} inline-block mb-3`,children:a.jsx(y,{className:"h-6 w-6 text-white"})}),a.jsx("h4",{className:"font-medium text-gray-900",children:d.name}),a.jsx("p",{className:`text-2xl font-bold ${o(d.status)}`,children:d.value}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${c(d.status)} ${o(d.status)}`,children:d.status})]},f)})}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx(Id,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900",children:"Uptime"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.uptime})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx(Be,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.activeUsers})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx(En,{className:"h-8 w-8 text-orange-500 mx-auto mb-2"}),a.jsx("h4",{className:"font-medium text-gray-900",children:"Server Load"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.serverLoad})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((d,f)=>{const y=d.icon;return a.jsxs("button",{onClick:d.action,className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow text-left",children:[a.jsx("div",{className:`p-3 rounded-lg ${d.color} inline-block mb-4`,children:a.jsx(y,{className:"h-6 w-6 text-white"})}),a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:d.title}),a.jsx("p",{className:"text-sm text-gray-600",children:d.description})]},f)})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:l.map(d=>{const f=d.icon;return a.jsxs("button",{onClick:()=>e(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${t===d.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(f,{className:"h-4 w-4"}),d.label]},d.id)})})}),a.jsxs("div",{className:"p-6",children:[t==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Incidents"}),a.jsx("div",{className:"space-y-4",children:s.map(d=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:d.type}),a.jsx("p",{className:"text-sm text-gray-600",children:d.description})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(d.severity)}`,children:d.severity})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.jsxs("span",{children:["Created: ",h(d.createdAt)]}),d.resolvedAt&&a.jsxs("span",{children:["Resolved: ",h(d.resolvedAt)]}),a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="resolved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d.status})]})]},d.id))})]})}),t==="users"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bulk User Operations"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Import Users"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[a.jsx(vl,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Drag and drop CSV file here, or click to browse"})]})]}),a.jsxs("button",{className:"btn-primary w-full",children:[a.jsx(vl,{className:"h-4 w-4"}),"Import Users"]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Export Users"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),a.jsxs("select",{className:"input",children:[a.jsx("option",{children:"CSV"}),a.jsx("option",{children:"JSON"}),a.jsx("option",{children:"Excel"})]})]}),a.jsxs("button",{className:"btn-outline w-full",children:[a.jsx(ds,{className:"h-4 w-4"}),"Export Users"]})]})]})]})]})}),t==="companies"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Management"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Create Company"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",placeholder:"Company Name",className:"input"}),a.jsx("input",{type:"email",placeholder:"Admin Email",className:"input"}),a.jsxs("select",{className:"input",children:[a.jsx("option",{children:"Select Plan"}),a.jsx("option",{children:"Basic"}),a.jsx("option",{children:"Professional"}),a.jsx("option",{children:"Enterprise"})]}),a.jsx("button",{className:"btn-primary w-full",children:"Create Company"})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Bulk Operations"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{className:"btn-outline w-full",children:[a.jsx(vl,{className:"h-4 w-4"}),"Import Companies"]}),a.jsxs("button",{className:"btn-outline w-full",children:[a.jsx(ds,{className:"h-4 w-4"}),"Export Companies"]}),a.jsxs("button",{className:"btn-outline w-full",children:[a.jsx(zc,{className:"h-4 w-4"}),"Bulk Settings Update"]})]})]})]})]})}),t==="monitoring"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Real-time Monitoring"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Response Time"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"180ms"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Throughput"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"1,250 req/s"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsx("span",{className:"text-sm font-medium text-green-600",children:"0.02%"})]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"System Alerts"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ra,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-gray-600",children:"All systems operational"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(ea,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{className:"text-gray-600",children:"Memory usage above 70%"})]})]})]})]})]})}),t==="security"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security & Access Control"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Access Logs"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Failed Login Attempts"}),a.jsx("span",{className:"font-medium text-red-600",children:"12"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Suspicious Activities"}),a.jsx("span",{className:"font-medium text-yellow-600",children:"3"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Last Security Scan"}),a.jsx("span",{className:"font-medium text-gray-900",children:"2 hours ago"})]})]}),a.jsxs("button",{className:"btn-outline w-full mt-4",children:[a.jsx(Ni,{className:"h-4 w-4"}),"Run Security Scan"]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"API Keys"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Active API Keys"}),a.jsx("span",{className:"font-medium text-gray-900",children:"24"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Expired Keys"}),a.jsx("span",{className:"font-medium text-red-600",children:"2"})]})]}),a.jsxs("button",{className:"btn-outline w-full mt-4",children:[a.jsx(Po,{className:"h-4 w-4"}),"Manage API Keys"]})]})]})]})}),t==="backup"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backup & Recovery"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"System Backup"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Last Backup"}),a.jsx("span",{className:"font-medium text-gray-900",children:"2 hours ago"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Backup Size"}),a.jsx("span",{className:"font-medium text-gray-900",children:"2.4 GB"})]}),a.jsxs("button",{className:"btn-primary w-full",children:[a.jsx(yl,{className:"h-4 w-4"}),"Create Backup"]})]})]}),a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Recovery Points"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Available:"}),a.jsx("span",{className:"font-medium text-gray-900 ml-2",children:"5 recovery points"})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Oldest:"}),a.jsx("span",{className:"font-medium text-gray-900 ml-2",children:"7 days ago"})]})]}),a.jsxs("button",{className:"btn-outline w-full mt-4",children:[a.jsx(na,{className:"h-4 w-4"}),"View Recovery Points"]})]})]})]})})]})]})]})},Cw=()=>{const[t,e]=v.useState("campaigns"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,o]=v.useState([]),[c,u]=v.useState(!0),[h,d]=v.useState({totalRevenue:0,activeCampaigns:0,totalImpressions:0,avgCTR:0,hotOpportunities:0,marketOpportunities:0});v.useEffect(()=>{f()},[]);const f=async()=>{u(!0);try{const{data:x}=await F.from("campaigns").select("*").order("created_at",{ascending:!1}),{data:g}=await F.from("market_intelligence").select("*").order("revenue_potential",{ascending:!1}),{data:m}=await F.from("sales_opportunities").select("*").order("likelihood_score",{ascending:!1});n(x||[]),i(g||[]),o(m||[]);const p=(x||[]).reduce((D,U)=>D+(U.monthly_payment_amount||0),0),j=(x||[]).filter(D=>D.status==="active").length,k=(x||[]).reduce((D,U)=>D+(U.impressions_count||0),0),S=(x||[]).reduce((D,U)=>D+(U.ctr||0),0)/((x==null?void 0:x.length)||1),C=(m||[]).filter(D=>D.priority_level==="hot").length,P=(g||[]).filter(D=>D.sales_priority==="high").length;d({totalRevenue:p,activeCampaigns:j,totalImpressions:k,avgCTR:S,hotOpportunities:C,marketOpportunities:P})}catch(x){console.error("Error loading dashboard data:",x)}finally{u(!1)}},y=x=>{switch(x){case"premium":return"text-yellow-600 bg-yellow-100";case"standard":return"text-green-600 bg-green-100";case"basic":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},w=x=>{switch(x){case"active":return"text-green-600 bg-green-100";case"paused":return"text-yellow-600 bg-yellow-100";case"draft":return"text-gray-600 bg-gray-100";case"ended":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},b=x=>{switch(x){case"hot":case"high":return"text-red-600 bg-red-100";case"warm":case"medium":return"text-yellow-600 bg-yellow-100";case"cold":case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return c?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600"})}):a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Smart Advertising Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"AI-powered location-based advertising management"})]}),a.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[a.jsx(Mc,{className:"w-4 h-4"}),"New Campaign"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Y1,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",h.totalRevenue.toLocaleString()]})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ao,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Campaigns"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.activeCampaigns})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-purple-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bm,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Impressions"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalImpressions.toLocaleString()})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-orange-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ow,{className:"w-8 h-8 text-orange-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg CTR"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(h.avgCTR*100).toFixed(2),"%"]})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-red-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fw,{className:"w-8 h-8 text-red-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hot Opportunities"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.hotOpportunities})]})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ad,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Market Ops"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.marketOpportunities})]})]})})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"campaigns",label:"Campaigns",icon:Ao},{key:"intelligence",label:"Market Intelligence",icon:Ad},{key:"opportunities",label:"Sales Opportunities",icon:Oo},{key:"analytics",label:"Analytics",icon:ta}].map(({key:x,label:g,icon:m})=>a.jsxs("button",{onClick:()=>e(x),className:`group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm ${t===x?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(m,{className:"w-5 h-5 mr-2"}),g]},x))})}),a.jsxs("div",{className:"mt-8",children:[t==="campaigns"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Campaign Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm flex items-center gap-2",children:[a.jsx(tw,{className:"w-4 h-4"}),"Filter"]}),a.jsxs("button",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm flex items-center gap-2",children:[a.jsx(Dc,{className:"w-4 h-4"}),"Search"]})]})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Tier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Locations"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>{var g,m;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.title}),a.jsx("div",{className:"text-sm text-gray-500",children:x.company_name})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${y(x.payment_tier)}`,children:x.payment_tier})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",((g=x.monthly_payment_amount)==null?void 0:g.toLocaleString())||0,"/mo"]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[x.impressions_count.toLocaleString()," impressions"]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[(x.ctr*100).toFixed(2),"% CTR"]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(x.status)}`,children:x.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(m=x.target_cities)!=null&&m.length?`${x.target_cities.length} cities`:"Global"})]},x.id)})})]})})]})}),t==="intelligence"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"AI Market Intelligence"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"AI-analyzed market opportunities and insights"})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>a.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:x.location_name}),a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full mt-1 ${b(x.sales_priority)}`,children:[x.sales_priority," priority"]})]}),a.jsx(aw,{className:"w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Revenue Potential:"}),a.jsxs("span",{className:"font-medium",children:["$",x.revenue_potential.toLocaleString(),"/mo"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Business Density:"}),a.jsxs("span",{className:"font-medium",children:[(x.business_density_score*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Competition:"}),a.jsx("span",{className:`font-medium ${x.competition_level==="low"?"text-green-600":x.competition_level==="medium"?"text-yellow-600":"text-red-600"}`,children:x.competition_level})]})]}),a.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[a.jsxs("span",{children:["Last analyzed: ",new Date(x.last_analyzed).toLocaleDateString()]}),a.jsx("button",{className:"text-green-600 hover:text-green-700 font-medium",children:"View Details"})]})})]},x.id))})})]})}),t==="opportunities"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg",children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"AI-Generated Sales Opportunities"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Potential clients identified by AI analysis"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estimated Budget"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Likelihood"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AI Insight"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(x=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.company_name}),a.jsx("div",{className:"text-sm text-gray-500",children:x.status})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.business_type}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",x.estimated_budget.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-3",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${x.likelihood_score*100}%`}})}),a.jsxs("span",{className:"text-sm text-gray-900",children:[(x.likelihood_score*100).toFixed(0),"%"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${b(x.priority_level)}`,children:x.priority_level})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:x.ai_reasoning})]},x.id))})]})})]})}),t==="analytics"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Analytics"}),a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx(ta,{className:"w-12 h-12 mx-auto mb-4"}),a.jsx("p",{children:"Advanced analytics dashboard coming soon..."}),a.jsx("p",{className:"text-sm mt-2",children:"Will include revenue trends, geographic performance, and AI insights"})]})]})})]})]})},Ew=({user:t})=>{const e=Un(),r=ja(),[n,s]=v.useState(!1),i=[{name:"Dashboard",href:"/dashboard",icon:nw},{name:"Users",href:"/users",icon:Be},{name:"Companies",href:"/companies",icon:Ge},{name:"Smart Advertising",href:"/smart-advertising",icon:Ao},{name:"Desktop App",href:"/desktop-app",icon:Wm},{name:"Analytics",href:"/analytics",icon:ta},{name:"Support",href:"/support",icon:rw},{name:"Admin",href:"/admin",icon:zc}],l=async()=>{try{await Cn.logout(),r("/login")}catch(c){console.error("Logout failed:",c)}},o=c=>e.pathname===c;return a.jsxs("div",{className:"flex flex-col w-64 bg-white shadow-lg",children:[a.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-200",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("svg",{viewBox:"0 0 1695.17 474.35",style:{height:"32px",width:"auto"},children:[a.jsx("defs",{children:a.jsx("style",{children:`
                .cls-1 {
                  fill: #000;
                }
                .cls-2 {
                  fill: #0ab27c;
                }
              `})}),a.jsxs("g",{children:[a.jsx("rect",{className:"cls-2",x:"148.69",y:"175.36",width:"23.87",height:"37.04"}),a.jsx("path",{className:"cls-2",d:"M250.64,92.09v120.3h-52.87v-43.2c0-4.8-1.85-8.9-5.56-12.31-3.65-3.35-8-5.03-13.06-5.03h-37.07c-5.05,0-9.4,1.68-13.06,5.03-3.7,3.41-5.55,7.51-5.55,12.31v43.2h-52.88v-120.3c0-10.31,8.36-18.68,18.69-18.68h142.69c10.32,0,18.68,8.36,18.68,18.68Z"}),a.jsx("rect",{className:"cls-2",x:"148.69",y:"218.32",width:"23.87",height:"37.04"}),a.jsx("path",{className:"cls-2",d:"M250.64,218.32v120.3c0,10.32-8.35,18.69-18.68,18.69H89.28c-10.32,0-18.69-8.36-18.69-18.69v-120.3h52.88v43.19c0,4.81,1.85,8.91,5.55,12.31,3.65,3.35,8.01,5.03,13.06,5.03h37.07c5.06,0,9.4-1.68,13.06-5.03,3.71-3.4,5.56-7.5,5.56-12.31v-43.19h52.87Z"}),a.jsx("polygon",{className:"cls-2",points:"339.54 197.05 343.42 212.4 339.54 212.4 339.54 197.05"}),a.jsx("path",{className:"cls-2",d:"M444.76,92.09v120.3h-49.61v-60.53h-25.22v60.53h-5.43l-15.2-60.53h-34.97v60.53h-49.62v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.32,0,18.68,8.36,18.68,18.68Z"}),a.jsx("polygon",{className:"cls-2",points:"369.93 234.04 365.98 218.32 369.93 218.32 369.93 234.04"}),a.jsx("path",{className:"cls-2",d:"M444.76,218.32v120.3c0,10.32-8.35,18.69-18.68,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h49.62v60.52h25.22v-60.52h5.38l15.32,60.52h34.9v-60.52h49.61Z"})]}),a.jsxs("g",{children:[a.jsx("path",{className:"cls-1",d:"M637.05,92.09v120.3h-77.43v-37.04h24.54v-23.49h-74.29v23.49h24.62v37.04h-77.5v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.31,0,18.69,8.36,18.69,18.68Z"}),a.jsx("path",{className:"cls-1",d:"M637.05,218.32v120.3c0,10.32-8.37,18.69-18.69,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h77.5v60.52h25.14v-60.52h77.43Z"}),a.jsx("path",{className:"cls-1",d:"M831.16,92.09v120.3h-77.42v-60.53h-25.21v60.53h-77.42v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.31,0,18.68,8.36,18.68,18.68Z"}),a.jsx("path",{className:"cls-1",d:"M831.16,218.32v120.3c0,10.32-8.36,18.69-18.68,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h77.42v60.52h25.21v-60.52h77.42Z"}),a.jsx("polygon",{className:"cls-1",points:"964.58 212.4 968.19 195.17 968.19 212.4 964.58 212.4"}),a.jsx("polygon",{className:"cls-1",points:"902.31 195.17 905.95 212.4 902.31 212.4 902.31 195.17"}),a.jsx("path",{className:"cls-1",d:"M1025.27,92.09v120.3h-31.87v-60.53h-34.97l-13.55,60.53h-19.17l-13.65-60.53h-34.97v60.53h-31.87v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.31,0,18.68,8.36,18.68,18.68Z"}),a.jsx("polygon",{className:"cls-1",points:"935.33 255.06 927.04 218.32 943.55 218.32 935.33 255.06"}),a.jsx("path",{className:"cls-1",d:"M1025.27,218.32v120.3c0,10.32-8.36,18.69-18.68,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h31.87v60.52h25.22v-60.52h4.9l12.81,60.52h30.62l12.7-60.52h4.86v60.52h25.22v-60.52h31.87Z"}),a.jsx("path",{className:"cls-1",d:"M1219.39,92.09v120.3h-63.46v-8.82h-34.97v-28.21h42.03v-23.49h-67.25v60.53h-56.4v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.31,0,18.68,8.36,18.68,18.68Z"}),a.jsx("path",{className:"cls-1",d:"M1219.39,218.32v120.3c0,10.32-8.36,18.69-18.68,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h56.4v60.52h67.25v-23.49h-42.03v-28.21h34.97v-8.82h63.46Z"}),a.jsx("path",{className:"cls-1",d:"M1413.5,92.09v120.3h-94.9v-60.53h-25.22v60.53h-59.93v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.32,0,18.68,8.36,18.68,18.68Z"}),a.jsx("path",{className:"cls-1",d:"M1413.5,218.32v120.3c0,10.32-8.35,18.69-18.68,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h59.93v60.52h60.19v-23.49h-34.97v-37.04h94.9Z"}),a.jsx("path",{className:"cls-1",d:"M1607.62,92.09v120.3h-70.11l19.14-60.53h-25.74c-3.64,12.33-8.08,32.5-13.31,60.53h-.09c-5.13-28.03-9.55-48.21-13.24-60.53h-25.74l19.18,60.53h-70.15v-120.3c0-10.31,8.36-18.68,18.68-18.68h142.7c10.31,0,18.68,8.36,18.68,18.68Z"}),a.jsx("path",{className:"cls-1",d:"M1607.62,218.32v120.3c0,10.32-8.36,18.69-18.68,18.69h-142.7c-10.31,0-18.68-8.36-18.68-18.69v-120.3h72.02l5.43,17.15v43.37h25.22v-43.45l5.4-17.07h71.98Z"})]}),a.jsxs("g",{children:[a.jsx("path",{className:"cls-1",d:"M1640.53,338.37c-5.22,0-9.46,4.25-9.46,9.46s4.25,9.46,9.46,9.46,9.46-4.25,9.46-9.46-4.25-9.46-9.46-9.46ZM1640.53,356.06c-4.53,0-8.22-3.69-8.22-8.22s3.69-8.22,8.22-8.22,8.22,3.69,8.22,8.22-3.69,8.22-8.22,8.22Z"}),a.jsx("path",{className:"cls-1",d:"M1640.77,350.94c-2.33,0-3.23-1.63-3.24-3.19-.01-1.57.97-3.27,3.24-3.27.82,0,1.65.28,2.27.89l1.18-1.14c-.97-.95-2.18-1.44-3.46-1.44-3.4,0-5,2.5-4.99,4.96.01,2.45,1.49,4.85,4.99,4.85,1.36,0,2.61-.44,3.58-1.4l-1.21-1.22c-.62.62-1.55.95-2.37.95Z"})]}),a.jsxs("g",{children:[a.jsx("path",{className:"cls-1",d:"M482.87,437.87h20.84v11.63h-33.34v-62.95h33.34v11.63h-20.84v13.98h17.35v11.67h-17.35v14.02Z"}),a.jsx("path",{className:"cls-1",d:"M537.16,386.56h12.69l-12.18,62.95h-16.61l-12.22-62.95h12.65c2.27,11.54,4.88,28.53,7.83,50.96,2.98-22.46,5.59-39.45,7.83-50.96Z"}),a.jsx("path",{className:"cls-1",d:"M569.4,437.87h20.84v11.63h-33.34v-62.95h33.34v11.63h-20.84v13.98h17.35v11.67h-17.35v14.02Z"}),a.jsx("path",{className:"cls-1",d:"M611.9,408.96v40.54h-12.5v-62.95h17.35l10.22,40.74v-40.74h12.5v62.95h-17.31l-10.26-40.54Z"}),a.jsx("path",{className:"cls-1",d:"M659.49,398.19h-12.22v-11.63h36.86v11.63h-12.18v51.32h-12.46v-51.32Z"}),a.jsx("path",{className:"cls-1",d:"M767.73,386.56v62.95h-12.54v-41.48l-8.7,41.48h-15.2l-8.77-41.48v41.48h-12.5v-62.95h17.35l11.52,51.16,11.48-51.16h17.35Z"}),a.jsx("path",{className:"cls-1",d:"M791.35,436.74l-2.55,12.77h-12.65l12.22-62.95h16.61l12.18,62.95h-12.69l-2.47-12.77h-10.65ZM793.62,425.1h6.07l-3.06-26.83-3.02,26.83Z"}),a.jsx("path",{className:"cls-1",d:"M836.94,408.96v40.54h-12.5v-62.95h17.35l10.22,40.74v-40.74h12.5v62.95h-17.31l-10.26-40.54Z"}),a.jsx("path",{className:"cls-1",d:"M888.18,436.74l-2.55,12.77h-12.65l12.22-62.95h16.61l12.18,62.95h-12.69l-2.47-12.77h-10.65ZM890.45,425.1h6.07l-3.06-26.83-3.02,26.83Z"}),a.jsx("path",{className:"cls-1",d:"M944.98,427.06h-5.92v-11.63h18.45v25.5c0,2.38-.93,4.4-2.78,6.07-1.8,1.67-3.96,2.51-6.46,2.51h-18.37c-2.51,0-4.67-.84-6.5-2.51-1.83-1.67-2.74-3.7-2.74-6.07v-45.79c0-2.38.91-4.41,2.74-6.11,1.83-1.65,4-2.47,6.5-2.47h18.37c2.51,0,4.66.82,6.46,2.47,1.85,1.7,2.78,3.73,2.78,6.11v12.65h-12.54v-9.6h-11.83v39.68h11.83v-10.81Z"}),a.jsx("path",{className:"cls-1",d:"M981.1,437.87h20.84v11.63h-33.34v-62.95h33.34v11.63h-20.84v13.98h17.35v11.67h-17.35v14.02Z"}),a.jsx("path",{className:"cls-1",d:"M1068.8,386.56v62.95h-12.54v-41.48l-8.7,41.48h-15.2l-8.77-41.48v41.48h-12.5v-62.95h17.35l11.52,51.16,11.48-51.16h17.35Z"}),a.jsx("path",{className:"cls-1",d:"M1093.64,437.87h20.84v11.63h-33.34v-62.95h33.34v11.63h-20.84v13.98h17.35v11.67h-17.35v14.02Z"}),a.jsx("path",{className:"cls-1",d:"M1136.14,408.96v40.54h-12.5v-62.95h17.35l10.22,40.74v-40.74h12.5v62.95h-17.31l-10.26-40.54Z"}),a.jsx("path",{className:"cls-1",d:"M1183.74,398.19h-12.22v-11.63h36.86v11.63h-12.18v51.32h-12.46v-51.32Z"}),a.jsx("path",{className:"cls-1",d:"M1257.65,398.19h-11.83v9.95c0,2.69,1.97,4.03,5.92,4.03,5.17,0,9.48,1.38,12.93,4.15,3.68,2.92,5.52,6.79,5.52,11.59v13.01c0,2.38-.93,4.4-2.78,6.07-1.8,1.67-3.96,2.51-6.46,2.51h-18.37c-2.51,0-4.67-.84-6.5-2.51-1.83-1.67-2.74-3.7-2.74-6.07v-12.69h12.5v9.64h11.83v-9.95c0-2.72-1.97-4.07-5.92-4.07-5.15,0-9.44-1.37-12.89-4.11-3.68-2.92-5.52-6.79-5.52-11.59v-13.01c0-2.38.91-4.41,2.74-6.11,1.83-1.65,4-2.47,6.5-2.47h18.37c2.51,0,4.66.82,6.46,2.47,1.85,1.7,2.78,3.73,2.78,6.11v12.65h-12.53v-9.6Z"}),a.jsx("path",{className:"cls-1",d:"M1308.03,386.56c2.51,0,4.66.82,6.46,2.47,1.85,1.7,2.78,3.73,2.78,6.11v45.79c0,2.38-.93,4.4-2.78,6.07-1.8,1.67-3.96,2.51-6.46,2.51h-18.37c-2.51,0-4.67-.84-6.5-2.51-1.83-1.67-2.74-3.7-2.74-6.07v-45.79c0-2.38.91-4.41,2.74-6.11,1.83-1.65,4-2.47,6.5-2.47h18.37ZM1292.91,398.19v39.68h11.83v-39.68h-11.83Z"}),a.jsx("path",{className:"cls-1",d:"M1329.34,386.56h33.34v11.63h-20.84v13.98h17.35v11.67h-17.35v25.66h-12.5v-62.95Z"}),a.jsx("path",{className:"cls-1",d:"M1377.4,398.19h-12.22v-11.63h36.86v11.63h-12.18v51.32h-12.46v-51.32Z"}),a.jsx("path",{className:"cls-1",d:"M1431.27,386.56h15.86l7.64,51.2c2.51-22.67,4.74-39.73,6.7-51.2h12.65l-10.73,62.95h-16.73l-7.44-45.32-7.44,45.32h-16.69l-10.81-62.95h12.65c1.96,11.46,4.19,28.53,6.7,51.2l7.64-51.2Z"}),a.jsx("path",{className:"cls-1",d:"M1488.77,436.74l-2.55,12.77h-12.65l12.22-62.95h16.61l12.18,62.95h-12.69l-2.47-12.77h-10.65ZM1491.04,425.1h6.07l-3.06-26.83-3.02,26.83Z"}),a.jsx("path",{className:"cls-1",d:"M1534.37,427.06v22.45h-12.5v-62.95h27.62c2.51,0,4.66.82,6.46,2.47,1.85,1.7,2.78,3.73,2.78,6.11v16.22c0,4.13-1.61,7.42-4.82,9.87,3.21,2.46,4.82,5.77,4.82,9.95v18.33h-12.54v-18.33c0-1.15-.44-2.13-1.33-2.94-.89-.78-1.93-1.18-3.13-1.18h-7.36ZM1541.73,415.43c1.2,0,2.25-.4,3.13-1.21.89-.76,1.33-1.71,1.33-2.86v-13.16h-11.83v17.24h7.36Z"}),a.jsx("path",{className:"cls-1",d:"M1583.1,437.87h20.84v11.63h-33.34v-62.95h33.34v11.63h-20.84v13.98h17.35v11.67h-17.35v14.02Z"})]})]})})}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:i.map(c=>{const u=c.icon;return a.jsxs(Dy,{to:c.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${o(c.href)?"bg-green-50 text-green-700 border-r-2 border-green-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[a.jsx(u,{className:"h-5 w-5"}),a.jsx("span",{children:c.name})]},c.name)})}),a.jsx("div",{className:"border-t border-gray-200 p-4",children:a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>s(!n),className:"flex items-center w-full p-3 text-left rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-green-700 rounded-full flex items-center justify-center",children:a.jsx(dw,{className:"h-4 w-4 text-white"})})}),a.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(t==null?void 0:t.name)||"Staff Member"}),a.jsx("p",{className:"text-xs text-gray-500 truncate capitalize",children:(t==null?void 0:t.role)||"staff"})]}),a.jsx(Gt,{className:`h-4 w-4 text-gray-400 transition-transform ${n?"rotate-180":""}`})]}),n&&a.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white rounded-lg shadow-lg border border-gray-200 py-1",children:a.jsxs("button",{onClick:l,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[a.jsx(sw,{className:"h-4 w-4 mr-2"}),"Sign Out"]})})]})})]})},Wt=({children:t})=>{const[e,r]=v.useState(null),[n,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{console.log(" PROTECTED ROUTE: Checking authentication...");const l=await Cn.init();console.log(" PROTECTED ROUTE: Auth state:",l),r(l)}catch(l){console.error(" PROTECTED ROUTE: Auth check failed:",l),r({user:null,isAuthenticated:!1,isLoading:!1,error:"Authentication failed"})}finally{s(!1)}})()},[]),n?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e!=null&&e.isAuthenticated?(console.log(" PROTECTED ROUTE: Authentication successful, rendering protected content"),a.jsx(a.Fragment,{children:t})):(console.log(" PROTECTED ROUTE: Not authenticated, redirecting to login"),a.jsx(cm,{to:"/login",replace:!0}))},Vt=({children:t})=>{const[e,r]=v.useState(null);return v.useEffect(()=>{(async()=>{const s=await Cn.getCurrentUser();r(s)})()},[]),a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Ew,{user:e}),a.jsx("main",{className:"flex-1 overflow-auto",children:t})]})};function Tw(){return a.jsxs("div",{className:"App",children:[a.jsx(Ev,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"},success:{iconTheme:{primary:"#16a34a",secondary:"#fff"},style:{border:"1px solid #16a34a"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fff"},style:{border:"1px solid #dc2626"}}}}),a.jsxs(Ty,{children:[a.jsx(it,{path:"/login",element:a.jsx(mw,{})}),a.jsx(it,{path:"/",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(Md,{})})})}),a.jsx(it,{path:"/dashboard",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(Md,{})})})}),a.jsx(it,{path:"/users",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(bw,{})})})}),a.jsx(it,{path:"/companies",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(_w,{})})})}),a.jsx(it,{path:"/desktop-app",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(kw,{})})})}),a.jsx(it,{path:"/analytics",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(Nw,{})})})}),a.jsx(it,{path:"/admin",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(Sw,{})})})}),a.jsx(it,{path:"/smart-advertising",element:a.jsx(Wt,{children:a.jsx(Vt,{children:a.jsx(Cw,{})})})}),a.jsx(it,{path:"*",element:a.jsx(cm,{to:"/dashboard",replace:!0})})]})]})}wl.createRoot(document.getElementById("root")).render(a.jsx(Jd.StrictMode,{children:a.jsx(Iy,{children:a.jsx(Tw,{})})}));
//# sourceMappingURL=index-B3odZZrq.js.map
